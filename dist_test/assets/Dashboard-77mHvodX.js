import{j as e,K as Qe,w as Re,aV as et,aW as tt,aX as st,r as De,a7 as $e,Z as ke,aY as at,aO as lt,z as ue,A as nt,C as Ye,aH as Ze,aq as it,aZ as rt,aw as ot,a_ as ve,W as Pe,aK as Ee,aL as ct,E as Oe,an as He}from"./ui-Ce9YeQZa.js";import{I as E}from"./InteractiveFinancialValue-BEaiqemc.js";import{T as dt,a as xt,b as mt,c as ht}from"./tooltip-vw99S11h.js";import{M as Y,C as ut,f as u,m as F,A as Ge,B as pt,a as Ce,i as Ve,u as bt}from"./index-DHabN7TV.js";import{H as ft}from"./haptics-C9gh8PRt.js";import{R as Fe,b as gt,P as jt,c as vt,d as wt,e as Nt,f as yt,g as kt,h as St,T as _e,A as At,X as We,Y as Mt,a as It,B as Dt,i as Ue}from"./charts--ivomIfj.js";import"./vendor-Cgg2GOmP.js";import"./motion-BWOTBQax.js";const Ct=({message:c,loading:o,icon:a})=>e.jsxs("div",{className:"col-span-full mesh-ghost-blue p-8 mb-8 relative group overflow-hidden sq-2xl",children:[e.jsx(Y,{variant:"ghost"}),e.jsxs("div",{className:"flex items-center gap-6 relative z-10",children:[e.jsx("div",{className:"w-14 h-14 bg-indigo-500/10 rounded-2xl flex items-center justify-center border border-indigo-500/20 min-w-[56px] shadow-inner group-hover:scale-105 transition-transform duration-500",children:a||e.jsx(Qe,{className:"text-indigo-400 w-6 h-6"})}),e.jsx("div",{id:"truth-banner-content",className:"text-sm tracking-tight text-slate-300 font-bold italic leading-relaxed",children:o?e.jsx("span",{className:"animate-pulse text-indigo-400",children:"Initializing Intelligence Nodes..."}):c||"Intelligence Node Active. Analyzing Cash Flow Velocity and Expenditure Entropy..."})]})]}),Ft=({liabilities:c})=>{const[o,a]=Re.useState("avalanche"),f=[...c].sort((S,A)=>o==="avalanche"?(A.interestRate||0)-(S.interestRate||0):(S.outstanding||0)-(A.outstanding||0))[0],m=f?Math.round(f.outstanding*(f.interestRate/100)*2.5):32400;return c.length===0?null:e.jsxs("div",{className:"segmented-stack col-span-full",children:[e.jsxs("div",{className:"stack-cap flex justify-between items-center border-t-2 border-blue-600/50",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("div",{className:"w-12 h-12 rounded-xl bg-blue-600/10 flex items-center justify-center border border-blue-500/20",children:e.jsx(et,{className:"text-blue-500 w-5 h-5"})}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-white text-xs font-black uppercase tracking-[0.4em]",children:"Your Payoff Path"}),e.jsxs("p",{className:"text-[9px] text-slate-500 uppercase font-bold tracking-widest mt-1",children:["Node: ",o==="avalanche"?"High Interest (Avalanche)":"Smallest Balance (Snowball)"]})]})]}),e.jsx("div",{className:"bg-blue-600/20 text-blue-400 text-[8px] font-black px-4 py-2 rounded-full border border-blue-500/20 uppercase tracking-widest",children:"Active Strategy"})]}),e.jsx("div",{className:"stack-body py-10",children:e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-12",children:[e.jsxs("div",{className:"space-y-8",children:[e.jsxs("p",{className:"text-sm text-slate-300 leading-relaxed font-light italic",children:['"Prioritizing your ',e.jsx("span",{className:"text-blue-400 font-bold",children:f?.name})," ",o==="avalanche"?"rate":"balance"," node first will reclaim approximately ",e.jsxs("span",{className:"text-emerald-400 font-bold",children:["â‚¹",m.toLocaleString()]}),' in future money supply."']}),f&&e.jsxs("div",{className:"p-6 bg-slate-800 rounded-2xl border border-blue-500/20 relative overflow-hidden",children:[e.jsx("span",{className:"text-[8px] font-black text-slate-500 uppercase block mb-3 tracking-widest",children:"Target Node"}),e.jsxs("div",{className:"flex justify-between items-end",children:[e.jsxs("div",{children:[e.jsx("span",{className:"text-xl font-bold block text-white",children:f.name}),e.jsxs("span",{className:"text-[10px] text-red-400 font-black uppercase mt-1",children:[f.interestRate,"% APR â€¢ ",o==="avalanche"?"Burn Heavy":"Low Friction"]})]}),e.jsx(ut,{variant:"blue",className:"w-full sm:w-auto h-12",children:"PAY OFF"})]})]})]}),e.jsxs("div",{className:"space-y-6 flex flex-col justify-center",children:[e.jsxs("div",{className:`flex items-center gap-5 group cursor-pointer p-4 rounded-xl transition-all ${o==="snowball"?"bg-slate-800 border border-blue-500/30":"hover:bg-slate-800"}`,onClick:()=>a(o==="avalanche"?"snowball":"avalanche"),children:[e.jsx("div",{className:`w-10 h-10 rounded-full border flex items-center justify-center transition-colors ${o==="snowball"?"border-blue-500":"border-white/10 group-hover:border-blue-500"}`,children:e.jsx(tt,{className:`w-4 h-4 transition-colors ${o==="snowball"?"text-blue-500":"text-slate-600 group-hover:text-blue-500"}`})}),e.jsxs("div",{children:[e.jsx("span",{className:"text-xs font-bold text-slate-200 block",children:o==="avalanche"?"Switch to Snowball Node":"Switch to Avalanche Node"}),e.jsx("span",{className:"text-[9px] text-slate-600 uppercase font-black tracking-tighter",children:o==="avalanche"?"Prioritize small balances for morale gains":"Prioritize high rates to minimize interest burn"})]})]}),e.jsxs("div",{className:"flex items-center gap-5 group cursor-pointer p-4 hover:bg-slate-800 rounded-xl transition-all opacity-50",children:[e.jsx("div",{className:"w-10 h-10 rounded-full border border-white/10 flex items-center justify-center",children:e.jsx(st,{className:"w-4 h-4 text-slate-600"})}),e.jsxs("div",{children:[e.jsx("span",{className:"text-xs font-bold text-slate-200 block",children:"Simulation Sub-Routine"}),e.jsx("span",{className:"text-[9px] text-slate-600 uppercase font-black tracking-tighter",children:"Automated Debt Payoff Projections (Coming Soon)"})]})]})]})]})})]})},O=(c,o,a)=>{const x=Number.isFinite(c)?c:0;return Math.max(o,Math.min(a,x))},Tt=c=>{const{liabilities:o,expenses:a,accounts:x,currentMonthExpenses:f}=c,m=o.filter(p=>(p.effective_rate||p.interestRate/100)>=.1),S=m.reduce((p,C)=>p+(C.emiAmount||0),0),A=f.filter(p=>p.category==="Insurance").reduce((p,C)=>p+C.amount,0),h=a.reduce((p,C)=>p+C.amount,0),D=Math.max(1,a.length/30),X=O(a.length>0?h/D:2e4,1,1e7)*3,k=x.filter(p=>p.type==="bank"||p.type==="cash").reduce((p,C)=>p+C.balance,0),y=new Date,Q=new Date(y.getFullYear(),y.getMonth()+1,0),ie=Math.max(1,Q.getDate()-y.getDate()),T=Math.max(0,Math.floor((k-(S+A))/ie)),L=m.length===0,r=A>0,V=!L||!r,$=m.length>0?Math.max(...m.map(p=>p.interestRate||(p.effective_rate?p.effective_rate*100:0))):0;return{tier0DebtService:S,tier1Security:A,tier2Buffer:X,isRestricted:V,remainingDays:ie,availableCash:k,foundationLimit:T,maxInterestRate:$,status:V?"restricted":"growth-ready"}},$t=c=>{const{liabilities:o,expenses:a,goals:x,healthScore:f,totalIncome:m,totalExpenses:S,incomes:A,accounts:h,investments:D,debts:ce}=c,X=Math.max(0,m-S),k=X*.8,y=[],Q=.06,ie=s=>{const v=(1+O(s,-.9,100))/(1+Q)-1;return O(v,-.99,100)},T=500,L=h.reduce((s,d)=>s+(d.type!=="credit_card"?d.balance:0),0),r=O(S||2e4,1,1e7),V=o.filter(s=>(s.effective_rate||s.interestRate/100)>=.1),$=o.reduce((s,d)=>{const v=O(d.effective_rate||d.interestRate/100,0,5);return s+d.outstanding*v},0),p=(D||[]).reduce((s,d)=>{const v=O(d.expected_return||.08,-.5,5);return s+d.quantity*(d.currentPrice||d.buyPrice)*v},0);L<r*3&&y.push({id:"safety_breach",type:"breach",title:"Security Warning: Low Cash",message:"Your cash reserve is below the 3-month safety mark. Setting up emergency fund first.",actionLabel:"",severity:"critical",explanation:`Your ready cash (${u(L,c.currency)}) is less than 3 months of basic living costs (${u(r*3,c.currency)}). This makes you vulnerable to unexpected bills.`});const C=m||5e4,we=A.find(s=>s.amount>C*.5&&!s.isRecurring);we&&y.push({id:"windfall_alert",type:"windfall",title:"Nice! Extra Income Detected",message:`A large credit of ${we.amount} was found. This is a great chance to speed up your goals.`,actionLabel:"Plan Extra Cash",severity:"success",explanation:"Getting extra money is a rare chance to skip months of saving. Using this for debt or goals now instead of spending it will get you to freedom much faster."}),(a.slice(0,10).find(s=>s.category==="EMI"||s.description.toLowerCase().includes("loan"))||V.length>5)&&y.push({id:"debt_spike",type:"spike",title:"Alert: Debt Increasing",message:"We noticed new debt or higher interest. Focusing on paying off costly loans first.",actionLabel:"",severity:"critical",explanation:`You have ${V.length} expensive loans. Interest higher than 10% eats your money faster than investments can grow it, effectively working against your wealth.`});const G=h.reduce((s,d)=>s+(d.type!=="credit_card"?d.balance:0),0),B=(D||[]).reduce((s,d)=>{const v=["stock","mutual_fund","sip","crypto","physical_asset"].includes(d.type);return s+(v?d.quantity*(d.currentPrice||d.buyPrice):0)},0);G>r*1.5&&B<G*.25&&y.push({id:"inflation_alert",type:"spike",title:"Watch out: Prices are Rising",message:"You have a lot of cash in the bank that is losing value to inflation.",explanation:`Your bank cash of ${u(G,c.currency)} is losing its value at ~6% because prices are rising. Without investing, you lose about ${u(G*.06,c.currency)} in value every single year.`,actionLabel:"",severity:"warning"});const pe=x.find(s=>s.currentAmount/s.targetAmount>=.9&&s.currentAmount<s.targetAmount);pe&&X>5e3&&y.push({id:"deadline_closer",type:"closer",title:"Deadline Closer",message:`"${pe.name}" is 90% complete. A focused sprint could finish this goal this month.`,actionLabel:"Execute Sprint",severity:"info",explanation:"You've crossed the 90% threshold. At this stage, cognitive finish-line effects suggest that a temporary increase in allocation will yield disproportionate psychological momentum."});const _=x.find(s=>s.name.toLowerCase().includes("insurance")),R=_&&_.currentAmount>=_.targetAmount,l=a.some(s=>s.description.toLowerCase().includes("insurance"));(R||l)&&y.push({id:"milestone_shift",type:"milestone",title:"Basic Security: OK",message:"Your basic protection is set. You can now move to building real wealth.",actionLabel:"View Growth Plan",severity:"success",explanation:"You've secured your basic needs (insurance/savings). Now we can shift from just 'staying safe' to 'growing your money' with better investments."}),o.forEach(s=>{s.penalty_applied&&y.push({id:`penalty_${s.id}`,type:"spike",title:"High Interest: Penalty Detected",message:`A penalty was added to ${s.name}. Your actual interest rate is now ${(s.effective_rate?s.effective_rate*100:0).toFixed(1)}%.`,actionLabel:s.type==="credit_card"?"Stop Using Card":"Pay it Now",severity:"critical",explanation:"Penalties are like a giant hole in your wallet. Stopping this drain is your top priority."})});let g="normal";const M=[],W=V.length>0;if($>p&&L<T?g="leakage":W&&(x.some(s=>s.is_discretionary&&s.monthly_contribution&&s.monthly_contribution>0)||o.some(s=>s.interestRate<8&&s.emiAmount>(s.min_payment||0)))&&(g="inversion"),W){M.push("STOP: Pause non-essential goals (like new gadgets) for 2 months.");const s=V.sort((d,v)=>(v.effective_rate||0)-(d.effective_rate||0))[0];M.push(`PAY: Putting extra cash into ${s.name} (costs you ${((s.effective_rate||0)*100).toFixed(1)}% in interest).`),L<T?M.push(`SAVE: Setting aside money to rebuild your ${u(T,c.currency)} safety fund.`):M.push(`DONE: Your basic safety fund is verified at ${u(L,c.currency)}.`)}const q=ce.filter(s=>s.type==="borrowed"&&s.status==="pending");if(q.length>0&&!W){const s=q.sort((d,v)=>v.amount-d.amount)[0];return{priority:0,title:"Priority: Honor Personal Trust",message:`You owe ${u(s.amount,c.currency)} to ${s.personName}. In a personal economy, "Trust capital" is more valuable than bank interest.`,allocation:{survival:70,leisure:30},nextMilestone:`Settle debt with ${s.personName}`,triggers:y,pivotActions:[`MESSAGE: Send a quick update to ${s.personName} about your repayment plan.`,`ALLOCATE: Set aside ${u(k,c.currency)} this month specifically for this IOU.`,...M],alertColor:"#f59e0b",summarySentence:`Solving your IOU with ${s.personName} is the primary goal. Repaying personal trust improves your overall financial security score.`,interpretation:{liquidityStatus:L>T?"Stable":"Building",securityStatus:"Personal Trust Gap",safeZoneValue:30}}}if(W){const s=V.sort((fe,ge)=>(ge.effective_rate||ge.interestRate/100)-(fe.effective_rate||fe.interestRate/100))[0],d=(s.effective_rate||s.interestRate/100)*100,v=s.emiAmount>0?s.outstanding/s.emiAmount:s.outstanding/1e3,Z=(s.emiAmount||0)+k,xe=s.outstanding/O(Z,1,1e7),K=O(Math.max(0,v-xe),0,1200),z=.12/12,J=O(k*(Math.pow(1+z,O(v,0,1200))-1)/z,0,1e9),ae=O(s.outstanding*(d/100)*(K/12),0,1e9),me=q.length>0?`. You also have personal IOUs with ${q[0].personName}, which should be handled with "Trust Capital" once this leak is stopped.`:"",oe=q.length>0?" and your personal trust obligations":"";return{priority:0,title:g==="leakage"?"ALERT: Money is Leaking":"Priority: Stop the Leak",message:`Your ${s.name} is costs you ${d.toFixed(1)}%. Paying this off is like a GUARANTEED ${d.toFixed(1)}% profit${me}`,allocation:{survival:80,leisure:20},nextMilestone:`Liquidate ${s.name}`,tradeOff:{timeSavedMonths:Math.round(K),potentialGrowthAmount:Math.round(J),comparisonMessage:`You're in a "Debt Trap"â€”paying more in interest than you're earning. Paying this debt now will save you about ${u(ae,c.currency)} in interest.`},triggers:y,pivotActions:[...M,...q.length>0?[`TRUST: Settle your ${u(q[0].amount,c.currency)} IOU with ${q[0].personName} as the next sub-priority.`]:[]],alertColor:"#730800",summarySentence:`Your ${s.name}${oe} is a critical drag. This chart shows how its ${d.toFixed(1)}% cost is preventing your 'Safe Zone' from expanding.`,interpretation:{liquidityStatus:L>T?"Stable":"Critical",securityStatus:"Threatened",safeZoneValue:Math.round(f)}}}const se=x.some(s=>s.name.toLowerCase().includes("insurance")),re=a.some(s=>s.description.toLowerCase().includes("insurance")||s.category==="Healthcare");if(!se&&!re)return{priority:1,title:"Priority: Get Protected",message:"We can't see any insurance in your plan. One health emergency could wipe out all your savings.",allocation:{survival:80,leisure:20},nextMilestone:"Get Health and Life Insurance",triggers:y,summarySentence:"Your lack of Insurance is a major security gap. Even with high liquidity, one event could set you back to zero.",interpretation:{liquidityStatus:L>r*3?"High":"Moderate",securityStatus:"Unset",safeZoneValue:20}};const N=f/10;if(N<3){const d=3-N,v=r*d,Z=v/(k||1);return{priority:2,title:"Priority: Build a Buffer",message:`You have ${N.toFixed(1)} months of cash. We need 3 months to be fully safe.`,allocation:{survival:80,leisure:20},nextMilestone:"Finish 3-Month Safety Fund",tradeOff:{timeSavedMonths:O(Math.round(Z*.5),0,1200),potentialGrowthAmount:O(Math.round(v*.05),0,1e9),comparisonMessage:"Peace of mind is priceless. Build your safety net first."},triggers:y,summarySentence:`Your buffer is only at ${N.toFixed(1)} months. We need to reach 3 months to move out of the 'Caution' zone.`,interpretation:{liquidityStatus:"Building",securityStatus:R||l?"Locked":"Lagging",safeZoneValue:Math.round(N/3*100)}}}const j=x.find(s=>s.status==="active")||x[0];if(j){const s=j.targetAmount-j.currentAmount,d=s>0?k/j.targetAmount*12:0,Z=ie(.12);return{priority:3,title:"Goal Area: Grow Your Wealth",message:"Your basic needs are met. It's time to focus on growing your investments and wealth.",allocation:{survival:80,leisure:20},nextMilestone:"Diversified Asset Growth",tradeOff:{timeSavedMonths:O(Math.round(d),0,1200),potentialGrowthAmount:O(Math.round(s*.12),0,1e9),comparisonMessage:"You're in the 'Growth Phase'. Let your money work for you."},realReturn:{value:Z,message:`Your wealth is growing ${(Z*100).toFixed(1)}% faster than prices are rising.`},triggers:y}}const Ne=L>r*3?"High":"Lagging",be=R||l?"Locked":"Lagging",U=f||40;return{priority:3,title:"Goal Area: Grow Your Wealth",message:"Your basic needs are met. It's time to focus on growing your investments and wealth.",summarySentence:`Your Liquidity is ${Ne.toLowerCase()}, but your Security (Insurance) is ${be.toLowerCase()}. This chart shows why your 'Safe Zone' is currently at ${U}%.`,interpretation:{liquidityStatus:Ne,securityStatus:be,safeZoneValue:U},allocation:{survival:80,leisure:20},nextMilestone:"Diversified Asset Growth",triggers:y}},Te=["#FF3B3B","#3B82F6","#A855F7","#F59E0B"],Lt=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],Me=(c,o,a)=>Math.max(o,Math.min(a,c)),Ie=(c,o,a=!1,x=!0)=>{if(!x)return 50;let f;return a?f=Math.max(0,100-c/o*100):f=Math.min(100,c/o*100),Math.round(f)},Bt=({currency:c,expenses:o,incomes:a,accounts:x,goals:f,liabilities:m,debts:S,savingsRate:A,dtiRatio:h,outflowRatio:D,healthScore:ce,userName:X="User",investments:k=[],isOffline:y=!1})=>{const[Q,ie]=De.useState(null),[T,L]=De.useState(!1),r=De.useMemo(()=>$t({totalIncome:a.reduce((l,g)=>l+g.amount,0),totalExpenses:o.reduce((l,g)=>l+g.amount,0),activeDebts:m.length+S.filter(l=>l.type==="borrowed"&&l.status==="pending").length,goalsCount:f.length,expenses:o,incomes:a,accounts:x,investments:k,liabilities:m,goals:f,debts:S,healthScore:ce,currency:c,currentMonthExpenses:o.filter(l=>{const g=new Date(l.date),M=new Date;return g.getMonth()===M.getMonth()&&g.getFullYear()===M.getFullYear()})}),[o,a,x,k,m,f,S,A,ce,X,c]),{healthData:V,overallHealth:$,spendingData:p,peakCategory:C,peakPercentage:we,flowData:Se,trendData:de,scoreDebt:G,totalSpent:B,totalIncome:pe,scoreLeakage:_}=De.useMemo(()=>{const l=new Date,g=l.getMonth(),M=l.getFullYear(),W=o.filter(n=>{const w=new Date(n.date);return w.getMonth()===g&&w.getFullYear()===M&&!n.isInternalTransfer}),q=x.filter(n=>n.type==="bank").map(n=>n.id),se=x.filter(n=>["bank","cash","credit_card"].includes(n.type)).map(n=>n.id),re=a.filter(n=>{const w=new Date(n.date);return w.getMonth()===g&&w.getFullYear()===M&&q.includes(n.accountId)&&!n.isInternalTransfer}).reduce((n,w)=>n+w.amount,0)||1,N=W.filter(n=>se.includes(n.accountId)).reduce((n,w)=>n+w.amount,0),j=Array.from({length:6}).map((n,w)=>{const he=new Date;he.setMonth(he.getMonth()-(5-w));const t=he.getMonth(),i=he.getFullYear(),P=a.filter(ee=>{const te=new Date(ee.date);return te.getMonth()===t&&te.getFullYear()===i&&!ee.isInternalTransfer}).reduce((ee,te)=>ee+te.amount,0),je=o.filter(ee=>{const te=new Date(ee.date);return te.getMonth()===t&&te.getFullYear()===i&&!ee.isInternalTransfer}).reduce((ee,te)=>ee+te.amount,0);return{month:Lt[t],Fuel:P,Burn:je}}),Ne=j.map(n=>({month:n.month,value:n.Burn})),be=Ie(A,30,!1,a.length>0),U=Ie(h,.5,!0,x.some(n=>n.type==="credit_card")||h>0),Ae=Math.max(0,D-.7),s=re>1||N>0?Ie(Ae,.3,!0,!0):50,d=s,v=x.filter(n=>n.type==="bank"||n.type==="cash").reduce((n,w)=>n+w.balance,0),Z=v>0?N/v:0;let xe=50;(v>0||N>0)&&(xe=Ie(Z,1,!0,!0));const K=j.map(n=>n.Burn).filter(n=>n>0);let z=50;if(K.length>1){const n=K.reduce((P,je)=>P+je,0)/K.length,w=Math.max(1,n),he=K.reduce((P,je)=>P+Math.pow(je-n,2),0)/K.length,i=Math.sqrt(he)/w;z=Ie(i,.5,!0,!0)}else K.length===1&&(z=75);const J=Me(be,0,100),ae=Me(U,0,100),me=Me(d,0,100),oe=Me(xe,0,100),fe=Me(z,0,100),ge=[{subject:"Savings",A:J,fullMark:100},{subject:"Debt",A:ae,fullMark:100},{subject:"Leakage",A:me,fullMark:100},{subject:"Buffer",A:oe,fullMark:100},{subject:"Speed",A:fe,fullMark:100}],Le=Math.round((J+ae+me+oe+fe)/5),qe=W.reduce((n,w)=>(n[w.category]=(n[w.category]||0)+w.amount,n),{}),le=Object.entries(qe).map(([n,w])=>({name:n,value:w})).sort((n,w)=>w.value-n.value).slice(0,4),Be=le[0]?.name||"None",H=N>0?Math.round(le[0]?.value/N*100):0;return{healthData:ge,overallHealth:Le,spendingData:le,peakCategory:Be,peakPercentage:H,flowData:j,trendData:Ne,scoreDebt:U,totalSpent:N,totalIncome:re,scoreLeakage:s}},[o,a,x,A,h,D]),R=({active:l,payload:g,label:M})=>{const[W,q]=Re.useState(null);return Re.useEffect(()=>{l&&M!==W&&(ft.light(),q(M))},[l,M,W]),l&&g&&g.length?e.jsxs("div",{className:"bg-[#1C1C1E] border border-white/5 p-3 squircle-12 shadow-2xl backdrop-blur-xl",children:[e.jsx("p",{className:"text-[10px] text-slate-500 uppercase font-black mb-2 tracking-widest",children:M}),e.jsx("div",{className:"space-y-1.5",children:g.map((se,re)=>{let N="text-slate-200";const j=se.color?.toUpperCase();return j==="#FF3B3B"?N="text-[#FF453A]":j==="#3B82F6"?N="text-[#0A84FF]":j==="#A855F7"?N="text-[#BF5AF2]":j==="#F59E0B"?N="text-[#FF9F0A]":j==="#10B981"?N="text-[#30D158]":se.name==="Burn"&&(N="text-slate-400"),e.jsxs("div",{className:"flex items-center justify-between gap-4",children:[e.jsx("span",{className:"text-[10px] text-slate-500 font-bold uppercase",children:se.name}),e.jsx("span",{className:`text-xs font-black tabular-nums ${N}`,children:u(se.value,c)})]},re)})})]}):null};return e.jsxs("div",{className:"col-span-full mt-12 mb-4",children:[e.jsxs("div",{className:"flex flex-col items-center gap-4 mb-10",children:[e.jsxs("div",{className:"flex items-center gap-6 w-full",children:[e.jsx("div",{className:"h-px bg-white/5 flex-1"}),e.jsx("span",{className:"text-[10px] font-black text-slate-700 uppercase tracking-[0.5em]",children:"Personal Money Plan"}),e.jsx("div",{className:"h-px bg-white/5 flex-1"})]}),y&&e.jsxs(F.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},className:"px-4 py-1.5 bg-amber-500/10 border border-amber-500/20 rounded-full flex items-center gap-2",children:[e.jsx("div",{className:"w-1.5 h-1.5 rounded-full bg-amber-500 animate-pulse"}),e.jsx("span",{className:"text-[9px] font-black text-amber-500 uppercase tracking-widest",children:"Cached View: Offline Mode Active"})]})]}),e.jsxs(F.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:`col-span-full mb-8 segmented-stack relative overflow-hidden ${r.alertColor==="#730800"?"garnet-alert border-2 shadow-2xl shadow-red-900/20 text-red-100":"bg-[#0F172A] border border-white/5"}`,children:[r.alertColor==="#730800"?e.jsx("div",{className:"absolute inset-0 opacity-20 bg-[radial-gradient(circle_at_top_right,#730800,transparent)]"}):e.jsx(Y,{variant:"invest",className:"opacity-[0.1]"}),e.jsxs("div",{className:"stack-cap flex justify-between items-center relative z-10",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-8 h-8 bg-blue-500/10 flex items-center justify-center rounded-lg border border-blue-500/20",children:e.jsx($e,{className:"w-5 h-5 text-blue-400"})}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-white font-black text-[10px] uppercase tracking-widest",children:r.title}),e.jsx("p",{className:"text-[9px] text-slate-500 font-bold uppercase tracking-wider",children:"Your Best Choice"})]})]}),e.jsxs("div",{className:"text-right",children:[e.jsx("p",{className:"text-[8px] text-slate-500 uppercase font-black mb-1",children:"Plan Status"}),e.jsx("span",{className:`px-2 py-1 rounded-full text-[9px] font-black uppercase ${r.alertColor==="#730800"?"garnet-pill":"bg-blue-500/10 border border-blue-500/20 text-blue-400"}`,children:r.priority===3?"GROWTH":"RECOVERY"})]})]}),e.jsxs("div",{className:"stack-body px-8 py-6 relative z-10",children:[e.jsxs("p",{className:"text-sm text-slate-300 font-medium leading-relaxed mb-6 italic opacity-90",children:['"',r.message,'"']}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8",children:[e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex justify-between items-end",children:[e.jsx("span",{className:"text-[10px] font-black text-slate-500 uppercase tracking-widest",children:"The 80/20 Rule"}),e.jsx("span",{className:"text-[10px] font-bold text-blue-400",children:"Smart Balance"})]}),e.jsxs("div",{className:"h-2 w-full bg-slate-900 rounded-full overflow-hidden flex border border-white/5 relative z-10",children:[e.jsx("div",{className:"h-full bg-blue-500 shadow-[0_0_10px_rgba(59,130,246,0.3)] w-[80%]"}),e.jsx("div",{className:"h-full bg-emerald-400/50 w-[20%]"})]}),e.jsxs("div",{className:"flex justify-between text-[8px] font-black uppercase tracking-tighter",children:[e.jsxs("span",{className:"text-blue-400",children:["80% Priority: ",r.priority===0?"DEBT":r.priority===1?"SECURITY":r.priority===2?"SAVINGS":"WEALTH"]}),e.jsx("span",{className:"text-emerald-400",children:"20% Spend: FUN MONEY"})]}),r.realReturn&&e.jsxs("div",{className:"mt-4 p-3 bg-emerald-500/5 border border-emerald-500/10 rounded-xl flex items-center justify-between group overflow-hidden relative",children:[e.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-emerald-500/0 via-emerald-500/5 to-emerald-500/0 -translate-x-full group-hover:translate-x-full transition-transform duration-1000"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-[8px] text-emerald-500/60 uppercase font-black mb-0.5 tracking-widest",children:"True Growth"}),e.jsx("p",{className:"text-[10px] font-bold text-emerald-400 italic",children:r.realReturn.message})]}),e.jsx("div",{className:"text-right",children:e.jsxs("span",{className:"text-xs font-black text-emerald-400",children:["+",(r.realReturn.value*100).toFixed(1),"%"]})})]})]}),e.jsxs("div",{className:"p-4 bg-white/5 border border-white/10 rounded-2xl flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-[8px] text-slate-500 uppercase font-black mb-1",children:"Next Milestone"}),e.jsx("p",{className:"text-xs font-bold text-white uppercase tracking-widest",children:r.nextMilestone})]}),e.jsx("div",{className:"w-10 h-10 bg-white/5 rounded-full flex items-center justify-center",children:e.jsx(ke,{className:"w-5 h-5 text-amber-400"})})]})]}),r.tradeOff&&e.jsxs(F.div,{initial:{opacity:0},animate:{opacity:1},className:"mt-8 pt-8 border-t border-white/5",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[e.jsx("div",{className:"px-2 py-0.5 bg-amber-500/10 border border-amber-500/20 rounded text-[8px] font-black text-amber-400 uppercase tracking-tighter",children:"Let's Compare"}),e.jsx("span",{className:"text-[10px] font-bold text-slate-400 uppercase tracking-widest",children:"Compare Options"})]}),e.jsxs("div",{className:"grid grid-cols-1 min-[400px]:grid-cols-2 gap-4",children:[e.jsxs("div",{className:"group p-4 bg-white/[0.02] border border-white/5 rounded-xl hover:bg-white/[0.04] transition-colors cursor-help",children:[e.jsx("p",{className:"text-[9px] text-slate-500 font-black uppercase mb-2",children:"Option A: Acceleration"}),e.jsxs("p",{className:"text-sm font-bold text-white",children:["Save ",r.tradeOff.timeSavedMonths," Months"]}),e.jsxs("p",{className:"text-[10px] text-slate-400 mt-1 leading-relaxed italic",children:["By plugging the leak now, you reach ",r.nextMilestone," significantly sooner."]})]}),e.jsxs("div",{className:"group p-4 bg-white/[0.02] border border-white/5 rounded-xl hover:bg-white/[0.04] transition-colors cursor-help",children:[e.jsx("p",{className:"text-[9px] text-slate-500 font-black uppercase mb-2",children:"Option B: Wealth Building"}),e.jsxs("p",{className:"text-sm font-bold text-emerald-400",children:["+",u(r.tradeOff.potentialGrowthAmount,c)," Potential"]}),e.jsx("p",{className:"text-[10px] text-slate-400 mt-1 leading-relaxed italic",children:"Investing this surplus instead could yield this growth over the same period."})]})]}),e.jsxs("div",{className:"mt-4 flex items-start gap-3 p-3 bg-blue-500/5 border border-blue-500/10 rounded-lg",children:[e.jsx("div",{className:"w-4 h-4 mt-0.5 flex-shrink-0",children:e.jsx($e,{className:"w-full h-full text-blue-400/50"})}),e.jsxs("p",{className:"text-[11px] text-slate-300 font-medium italic",children:['"Our Recommendation: ',r.tradeOff.comparisonMessage,'"']})]})]}),r.pivotActions&&r.pivotActions.length>0&&e.jsxs("div",{className:"mt-8 pt-8 border-t border-white/5",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[e.jsx("div",{className:"px-2 py-0.5 bg-red-500/10 border border-red-500/20 rounded text-[8px] font-black text-red-400 uppercase tracking-tighter",children:"Next Steps"}),e.jsx("span",{className:"text-[10px] font-bold text-slate-400 uppercase tracking-widest",children:"What to do now"})]}),e.jsx("div",{className:"space-y-3",children:r.pivotActions.map((l,g)=>e.jsxs("div",{className:"flex items-start gap-3 p-3 bg-white/[0.02] border border-white/5 rounded-xl",children:[e.jsx("div",{className:"w-1.5 h-1.5 rounded-full bg-red-500 mt-1.5 shrink-0"}),e.jsx("p",{className:"text-[11px] text-slate-300 font-medium leading-relaxed",children:l})]},g))})]}),r.triggers&&r.triggers.length>0&&e.jsx("div",{className:"mt-8 space-y-3",children:r.triggers.map(l=>e.jsxs(F.div,{initial:{x:-20,opacity:0},animate:{x:0,opacity:1},onClick:()=>ie(Q===l.id?null:l.id),className:`relative overflow-hidden p-5 rounded-2xl border transition-all cursor-pointer group ${l.id==="safety_breach"?"bg-red-500/10 border-red-500/20 hover:bg-red-500/15":l.id==="debt_spike"?"bg-orange-500/10 border-orange-500/20 hover:bg-orange-500/15":l.id==="inflation_alert"?"bg-indigo-500/10 border-indigo-500/20 hover:bg-indigo-500/15":l.severity==="success"?"bg-emerald-500/10 border-emerald-500/20":"bg-blue-500/10 border-blue-500/20"}`,children:[e.jsx("div",{className:`absolute top-0 left-0 w-1 h-full ${l.id==="safety_breach"?"bg-red-500":l.id==="debt_spike"?"bg-orange-500":l.id==="inflation_alert"?"bg-indigo-500":"bg-slate-700"}`}),e.jsxs("div",{className:"flex items-start gap-4 flex-1",children:[e.jsx("div",{className:`p-2.5 rounded-xl ${l.id==="safety_breach"?"bg-red-500/20 text-red-400":l.id==="debt_spike"?"bg-orange-500/20 text-orange-400":l.id==="inflation_alert"?"bg-indigo-500/20 text-indigo-400":l.severity==="success"?"bg-emerald-500/20 text-emerald-400":"bg-blue-500/20 text-blue-400"}`,children:l.id==="safety_breach"?e.jsx(at,{className:"w-5 h-5"}):l.id==="debt_spike"?e.jsx(ke,{className:"w-5 h-5"}):l.id==="inflation_alert"?e.jsx(lt,{className:"w-5 h-5"}):l.type==="windfall"?e.jsx(ue,{className:"w-5 h-5"}):e.jsx(nt,{className:"w-5 h-5"})}),e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex justify-between items-center mb-1",children:[e.jsx("h4",{className:"text-[10px] font-black uppercase tracking-widest text-white",children:l.title}),e.jsx(Ye,{className:`w-3 h-3 text-slate-500 transition-transform duration-300 ${Q===l.id?"rotate-180":""}`})]}),e.jsx("p",{className:"text-[10px] text-slate-400 font-medium leading-relaxed",children:l.message}),e.jsx(Ge,{children:Q===l.id&&l.explanation&&e.jsx(F.div,{initial:{height:0,opacity:0},animate:{height:"auto",opacity:1},exit:{height:0,opacity:0},className:"overflow-hidden",children:e.jsxs("div",{className:"mt-4 pt-4 border-t border-white/5",children:[e.jsxs("p",{className:"text-[9px] font-black text-slate-500 uppercase tracking-widest mb-2 flex items-center gap-2",children:[e.jsx(Ze,{className:"w-3 h-3"}),"Why this matters"]}),e.jsxs("p",{className:"text-[11px] text-slate-300 leading-relaxed italic pr-4",children:['"',l.explanation,'"']}),l.actionLabel&&e.jsx("button",{className:`mt-4 w-full py-2.5 rounded-lg text-[9px] font-black uppercase tracking-widest transition-all ${l.id==="safety_breach"?"bg-red-500 text-white shadow-lg shadow-red-500/20":l.id==="debt_spike"?"bg-orange-500 text-white shadow-lg shadow-orange-500/20":l.id==="inflation_alert"?"bg-indigo-500 text-white shadow-lg shadow-indigo-500/20":"bg-slate-700 text-white"}`,children:l.actionLabel})]})})})]})]})]},l.id))})]})]}),e.jsxs("div",{className:"flex flex-col items-center gap-6 mb-10",children:[e.jsxs("div",{className:"flex items-center gap-6 w-full",children:[e.jsx("div",{className:"h-px bg-white/5 flex-1"}),e.jsx("span",{className:"text-[10px] font-black text-slate-700 uppercase tracking-[0.5em]",children:"Intelligence Center"}),e.jsx("div",{className:"h-px bg-white/5 flex-1"})]}),e.jsxs(pt,{onClick:()=>L(!T),variant:"ghost",className:"group relative px-8 h-12 bg-white/5 border border-white/10 rounded-2xl overflow-hidden hover:bg-white/10 transition-all",children:[e.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-blue-500/0 via-blue-500/5 to-blue-500/0 -translate-x-full group-hover:translate-x-full transition-transform duration-1000"}),e.jsxs("div",{className:"flex items-center gap-3 relative z-10",children:[e.jsx(ue,{className:`w-4 h-4 text-blue-400 transition-transform duration-500 ${T?"rotate-90":""}`}),e.jsx("span",{className:"text-[10px] font-black uppercase tracking-widest text-slate-100",children:T?"Hide Detailed Analytics":"See Detailed Analytics"}),e.jsx(Ye,{className:`w-3 h-3 text-slate-500 transition-transform duration-500 ${T?"rotate-180":""}`})]})]})]}),e.jsx(Ge,{children:T&&e.jsxs(F.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:20},transition:{duration:.5,ease:"easeOut"},className:"space-y-8",children:[r.summarySentence&&e.jsxs(F.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},className:"p-8 rounded-[32px] bg-slate-900/50 border border-white/5 relative overflow-hidden group",children:[e.jsx(Y,{variant:"ghost",className:"opacity-[0.1]"}),e.jsx("div",{className:"absolute top-0 right-0 w-64 h-64 bg-slate-400/5 blur-[80px] -mr-32 -mt-32"}),e.jsxs("div",{className:"relative z-10 flex items-start gap-4",children:[e.jsx("div",{className:"p-3 bg-slate-800/50 rounded-2xl border border-white/10",children:e.jsx(it,{className:"w-6 h-6 text-slate-400"})}),e.jsxs("div",{children:[e.jsx("h4",{className:"text-[10px] font-black text-slate-500 uppercase tracking-[0.3em] mb-3",children:"Protocol Interpretation"}),e.jsxs("p",{className:"text-xl font-medium text-slate-100 italic leading-relaxed tracking-tight",children:['"',r.summarySentence,'"']}),e.jsxs("div",{className:"mt-6 flex flex-wrap gap-4",children:[e.jsxs("div",{className:"flex items-center gap-2 px-3 py-1.5 bg-white/5 rounded-full border border-white/5",children:[e.jsx("div",{className:`w-1.5 h-1.5 rounded-full ${r.interpretation?.liquidityStatus==="High"?"bg-[#0A84FF]":"bg-[#FF9F0A]"}`}),e.jsxs("span",{className:"text-[8px] font-black text-slate-400 uppercase tracking-widest",children:["Safe Zone Status: ",r.interpretation?.liquidityStatus]})]}),e.jsxs("div",{className:"flex items-center gap-2 px-3 py-1.5 bg-white/5 rounded-full border border-white/5",children:[e.jsx("div",{className:`w-1.5 h-1.5 rounded-full ${r.interpretation?.securityStatus==="Locked"?"bg-[#0A84FF]":"bg-[#FF9F0A]"}`}),e.jsxs("span",{className:"text-[8px] font-black text-slate-400 uppercase tracking-widest",children:["Security Zone: ",r.interpretation?.securityStatus]})]}),e.jsxs("div",{className:"flex items-center gap-2 px-3 py-1.5 bg-white/5 rounded-full border border-white/5",children:[e.jsx("div",{className:"w-1.5 h-1.5 rounded-full bg-[#BF5AF2]"}),e.jsxs("span",{className:"text-[8px] font-black text-slate-400 uppercase tracking-widest",children:["Growth Zone: ",r.interpretation?.safeZoneValue,"%"]})]})]})]})]})]}),e.jsxs("div",{className:"grid grid-cols-1 min-[400px]:grid-cols-2 gap-8",children:[e.jsxs("div",{className:"segmented-stack bg-slate-900 border border-white/5 relative overflow-hidden",children:[e.jsx(Y,{variant:"safe",animate:!0}),e.jsx("div",{className:"absolute top-0 left-0 w-1 h-full bg-blue-500/50"}),e.jsxs("div",{className:"stack-cap flex justify-between items-start border-white/5 relative z-10",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"text-slate-500 text-[9px] font-bold uppercase tracking-[0.2em] mb-2",children:"Safe Zone Health"}),e.jsxs("div",{className:"text-4xl font-black text-white",children:[$,e.jsx("span",{className:"text-sm text-slate-500 font-normal ml-2",children:"/100"})]})]}),e.jsx("div",{className:`text-[9px] font-black px-3 py-1.5 rounded-full border uppercase tracking-widest ${$>70?"bg-blue-500/10 text-blue-400 border-blue-500/20":"bg-yellow-500/10 text-yellow-400 border-yellow-500/20"}`,children:$>70?"Verified":"Scanning"})]}),e.jsx("div",{className:"stack-body px-0 pt-8 pb-4 h-[250px] w-full relative",children:e.jsx(Fe,{width:"100%",height:"100%",minWidth:0,children:e.jsxs(gt,{cx:"50%",cy:"50%",outerRadius:"70%",data:V,children:[e.jsx(jt,{stroke:"rgba(255,255,255,0.1)"}),e.jsx(vt,{dataKey:"subject",tick:{fill:"#94A3B8",fontSize:11,fontWeight:900}}),e.jsx(wt,{angle:30,domain:[0,100],tick:!1,axisLine:!1}),e.jsx(Nt,{name:"Health",dataKey:"A",stroke:"#00FF85",strokeWidth:2,fill:"rgba(0, 255, 133, 0.15)",fillOpacity:.3})]})})})]}),e.jsxs("div",{className:"segmented-stack bg-slate-900 border border-white/5 relative overflow-hidden",children:[e.jsx(Y,{variant:"safe",animate:!0}),e.jsx("div",{className:"absolute top-0 left-0 w-1 h-full bg-teal-500/50"}),e.jsxs("div",{className:"stack-cap flex justify-between items-center border-white/5 relative z-10",children:[e.jsxs("div",{className:"flex flex-col gap-1",children:[e.jsx("h3",{className:"text-slate-500 text-[9px] font-bold uppercase tracking-[0.2em]",children:"Action Flow: Burn"}),e.jsx("div",{className:"text-2xl font-black text-white leading-tight",children:C})]}),e.jsx(rt,{className:"text-teal-500/50 w-4 h-4"})]}),e.jsxs("div",{className:"stack-body px-0 h-[240px] w-full relative",children:[e.jsx(Fe,{width:"100%",height:"100%",minWidth:0,children:e.jsxs(yt,{children:[e.jsx(kt,{data:p,cx:"50%",cy:"50%",innerRadius:62,outerRadius:82,paddingAngle:3,cornerRadius:6,dataKey:"value",stroke:"none",children:p.map((l,g)=>e.jsx(St,{fill:Te[g%Te.length],style:{filter:`drop-shadow(0 0 6px ${Te[g%Te.length]}88)`},className:"transition-all duration-500 hover:opacity-80"},`cell-${g}`))}),e.jsx(_e,{content:e.jsx(R,{})})]})}),e.jsxs("div",{className:"absolute top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2 text-center pointer-events-none",children:[e.jsxs("span",{className:"text-[10px] text-slate-500 block font-bold",children:[we,"%"]}),e.jsx("span",{className:"text-[7px] font-black text-slate-600 uppercase tracking-widest block",children:"BURN"})]})]}),e.jsx("div",{className:"stack-footer py-4",children:e.jsxs("div",{className:"flex justify-between items-center px-2",children:[e.jsx("span",{className:"text-[8px] font-black text-slate-500 uppercase tracking-widest",children:"High Power Node identified"}),e.jsx("span",{className:"text-xs font-bold text-blue-400",children:C})]})})]}),e.jsxs("div",{className:"segmented-stack bg-slate-900 border border-white/5 relative overflow-hidden",children:[e.jsx(Y,{variant:"safe",animate:!0}),e.jsx("div",{className:"absolute top-0 left-0 w-1 h-full bg-teal-500/50"}),e.jsx("div",{className:"stack-cap border-white/5 relative z-10",children:e.jsx("h3",{className:"text-slate-400 text-[9px] font-bold uppercase tracking-[0.2em]",children:"Action Zone: Burn Trend"})}),e.jsx("div",{className:"stack-body px-0 pb-0 h-[200px] w-full",children:e.jsx(Fe,{width:"100%",height:"100%",minWidth:0,children:e.jsxs(At,{data:de,margin:{top:0,right:0,left:0,bottom:0},children:[e.jsxs("defs",{children:[e.jsxs("linearGradient",{id:"colorTrend",x1:"0",y1:"0",x2:"0",y2:"1",children:[e.jsx("stop",{offset:"5%",stopColor:"#0A84FF",stopOpacity:.3}),e.jsx("stop",{offset:"95%",stopColor:"#0A84FF",stopOpacity:0})]}),e.jsxs("filter",{id:"glow",children:[e.jsx("feGaussianBlur",{stdDeviation:"3",result:"coloredBlur"}),e.jsxs("feMerge",{children:[e.jsx("feMergeNode",{in:"coloredBlur"}),e.jsx("feMergeNode",{in:"SourceGraphic"})]})]})]}),e.jsx(We,{dataKey:"month",hide:!0}),e.jsx(Mt,{hide:!0}),e.jsx(_e,{content:e.jsx(R,{}),cursor:{stroke:"rgba(255,255,255,0.2)",strokeWidth:1}}),e.jsx(It,{type:"monotone",dataKey:"value",stroke:"#0A84FF",strokeWidth:3,fillOpacity:1,fill:"url(#colorTrend)",animationDuration:1500,filter:"url(#glow)"})]})})})]}),e.jsxs("div",{className:"segmented-stack bg-slate-900 border border-white/5 relative overflow-hidden",children:[e.jsx(Y,{variant:"safe",animate:!0}),e.jsx("div",{className:"absolute top-0 left-0 w-1 h-full bg-teal-500/50"}),e.jsxs("div",{className:"stack-cap flex justify-between items-center border-white/5 relative z-10",children:[e.jsx("h3",{className:"text-slate-500 text-[9px] font-bold uppercase tracking-[0.2em]",children:"Action Flow Efficiency"}),e.jsxs("div",{className:"flex gap-4",children:[e.jsxs("div",{className:"flex items-center gap-1.5",children:[e.jsx("div",{className:"w-2 h-2 rounded-full bg-[#30D158]"}),e.jsx("span",{className:"text-[8px] font-bold text-slate-500",children:"FUEL"})]}),e.jsxs("div",{className:"flex items-center gap-1.5",children:[e.jsx("div",{className:"w-2 h-2 rounded-full bg-[#1C1C1E] border border-white/10"}),e.jsx("span",{className:"text-[8px] font-bold text-slate-500",children:"BURN"})]})]})]}),e.jsx("div",{className:"stack-body px-0 pb-0 h-[200px] w-full",children:e.jsx(Fe,{width:"100%",height:"100%",minWidth:0,children:e.jsxs(Dt,{data:Se,barGap:8,margin:{top:20,right:0,left:0,bottom:0},children:[e.jsx(We,{dataKey:"month",axisLine:!1,tickLine:!1,tick:{fontSize:9,fill:"#64748B",fontWeight:700}}),e.jsx(_e,{cursor:{fill:"rgba(255,255,255,0.05)"},content:e.jsx(R,{})}),e.jsx(Ue,{dataKey:"Fuel",fill:"#30D158",radius:[4,4,0,0],barSize:12}),e.jsx(Ue,{dataKey:"Burn",fill:"#2C2C2E",radius:[4,4,0,0],barSize:12})]})})})]}),e.jsxs("div",{className:"segmented-stack bg-slate-900 border border-white/5 col-span-full relative min-h-[180px] overflow-hidden",children:[e.jsx(Y,{variant:"safe",animate:!0}),e.jsx("div",{className:"absolute top-0 left-0 w-1 h-full bg-teal-500/50"}),h>0?e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"stack-cap flex justify-between items-start border-white/5 relative z-10",children:[e.jsxs("div",{className:"flex flex-col gap-1.5",children:[e.jsx("h3",{className:"text-slate-500 text-[9px] font-bold uppercase tracking-[0.2em]",children:"Action Zone: Risk Leak"}),e.jsxs("div",{className:"text-4xl font-black text-white font-numeric leading-none",children:[(h*100).toFixed(1),"%",e.jsx("span",{className:"text-sm text-slate-500 font-normal ml-2 font-sans truncate",children:"Debt-to-Income"})]})]}),e.jsx("div",{className:`text-[9px] font-black px-3 py-1.5 rounded-full border uppercase tracking-widest ${h<.2?"bg-emerald-500/10 text-emerald-400 border-emerald-500/20":h<.4?"bg-amber-500/10 text-amber-400 border-amber-500/20":"bg-rose-500/10 text-rose-400 border-rose-500/20"}`,children:h<.2?"Safe":h<.4?"Caution":"Danger"})]}),e.jsx("div",{className:"stack-body px-8 py-10",children:e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"relative h-4 w-full bg-slate-900 rounded-full overflow-hidden border border-white/5",children:[e.jsxs("div",{className:"absolute inset-0 flex",children:[e.jsx("div",{className:"h-full flex-1 bg-emerald-500/20"}),e.jsx("div",{className:"h-full flex-1 bg-amber-500/20"}),e.jsx("div",{className:"h-full flex-1 bg-rose-500/20"})]}),e.jsx(F.div,{className:`absolute inset-y-0 left-0 ${h<.2?"bg-emerald-500 shadow-[0_0_15px_rgba(16,185,129,0.5)]":h<.4?"bg-amber-500 shadow-[0_0_15px_rgba(245,158,11,0.5)]":"bg-rose-500 shadow-[0_0_15px_rgba(239,68,68,0.5)]"}`,initial:{width:0},animate:{width:`${Math.min(100,h/.5*100)}%`},transition:{duration:1,ease:"easeOut"}})]}),e.jsxs("div",{className:"grid grid-cols-1 min-[360px]:grid-cols-3 gap-4",children:[e.jsxs("div",{className:"text-center",children:[e.jsx("span",{className:"text-[8px] text-slate-500 uppercase font-black block mb-1",children:"Risk Score"}),e.jsxs("span",{className:`text-xl font-bold ${G>70?"text-emerald-400":G>30?"text-amber-400":"text-rose-400"}`,children:[Math.round(G),"/100"]})]}),e.jsxs("div",{className:"text-center border-x border-white/5",children:[e.jsx("span",{className:"text-[8px] text-slate-500 uppercase font-black block mb-1",children:"Threshold"}),e.jsx("span",{className:"text-xl font-bold text-slate-200",children:"50%"})]}),e.jsxs("div",{className:"text-center",children:[e.jsx("span",{className:"text-[8px] text-slate-500 uppercase font-black block mb-1",children:"Status"}),e.jsx("span",{className:`text-xl font-bold ${h<.36?"text-emerald-400":"text-rose-400"}`,children:h<.36?"Healthy":"Aggressive"})]})]})]})}),e.jsx("div",{className:"stack-footer",children:e.jsx("p",{className:"text-[10px] text-slate-500 text-center italic",children:"Protocol: A DTI below 36% is considered healthy for asset growth management."})})]}):e.jsxs("div",{className:"flex-1 flex flex-col items-center justify-center p-8 text-center relative z-10",children:[e.jsx("div",{className:"w-12 h-12 bg-slate-800/50 rounded-full flex items-center justify-center mb-3 border border-white/5",children:e.jsx("span",{className:"text-xl",children:"ðŸ›¡ï¸"})}),e.jsx("h3",{className:"text-slate-400 font-black text-[10px] uppercase tracking-[0.2em] mb-1",children:"System Scanning..."}),e.jsx("p",{className:"text-[10px] text-slate-600 uppercase tracking-widest max-w-[240px]",children:"No Risk Detected"})]})]}),e.jsxs("div",{className:"segmented-stack bg-slate-900 border border-white/5 col-span-full relative min-h-[180px] overflow-hidden",children:[e.jsx(Y,{variant:"debt",className:"opacity-[0.1]"}),e.jsx("div",{className:"absolute top-0 left-0 w-1 h-full bg-orange-500/50"}),pe>1||B>0?e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"stack-cap flex justify-between items-start border-white/5 relative z-10",children:[e.jsxs("div",{className:"flex flex-col gap-1.5",children:[e.jsx("h3",{className:"text-slate-500 text-[9px] font-bold uppercase tracking-[0.2em]",children:"Action Zone: Leakage Tracking"}),e.jsxs("div",{className:"text-4xl font-black text-white font-numeric leading-none",children:[(D*100).toFixed(1),"%",e.jsx("span",{className:"text-sm text-slate-500 font-normal ml-2 font-sans truncate",children:"Total Outflow"})]})]}),e.jsx("div",{className:`text-[9px] font-black px-3 py-1.5 rounded-full border uppercase tracking-widest ${D<=.7?"bg-emerald-500/10 text-emerald-400 border-emerald-500/20":D<.9?"bg-amber-500/10 text-amber-400 border-amber-500/20":"bg-rose-500/10 text-rose-400 border-rose-500/20"}`,children:D<=.7?"Tight":D<.9?"Loose":"Leakage"})]}),e.jsx("div",{className:"stack-body py-10",children:e.jsxs("div",{className:"grid grid-cols-1 min-[360px]:grid-cols-2 gap-8 items-center",children:[e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"grid grid-cols-1 min-[400px]:grid-cols-2 gap-4",children:[e.jsxs("div",{className:"p-4 bg-slate-900 border border-white/5 rounded-xl",children:[e.jsx("span",{className:"text-[8px] text-slate-500 uppercase font-black block mb-1",children:"Monthly Inflow"}),e.jsx("span",{className:"text-sm font-bold text-emerald-400 font-numeric",children:Ce(pe,c)})]}),e.jsxs("div",{className:"p-4 bg-slate-900 border border-white/5 rounded-xl",children:[e.jsx("span",{className:"text-[8px] text-slate-500 uppercase font-black block mb-1",children:"Total Outflow"}),e.jsx("span",{className:"text-sm font-bold text-rose-400 font-numeric",children:Ce(B,c)})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex justify-between text-[8px] text-slate-500 uppercase font-black",children:[e.jsx("span",{children:"Efficiency Status"}),e.jsxs("span",{className:_>70?"text-emerald-400":"text-amber-400",children:[_.toFixed(0),"/100"]})]}),e.jsx("div",{className:"h-1.5 w-full bg-slate-900 rounded-full overflow-hidden border border-white/5",children:e.jsx(F.div,{className:`h-full ${_>70?"bg-emerald-500":_>30?"bg-amber-500":"bg-rose-500"}`,initial:{width:0},animate:{width:`${_}%`},transition:{duration:1.5}})})]})]}),e.jsxs("div",{className:"p-6 bg-blue-500/5 border border-blue-500/10 rounded-xl",children:[e.jsx("h4",{className:"text-[10px] font-black text-blue-400 uppercase tracking-widest mb-3",children:"Protocol Interpretation"}),e.jsx("p",{className:"text-xs text-slate-300 leading-relaxed mb-4",children:D<=.7?"Perfect circulation. Your liquid accumulation (30%+) is optimal for future high-power asset allocation.":D>=1?"Critical Leakage. System is in absolute burn state. No liquid accumulation is occurring. Immediate consolidation needed.":"Standard Circulation. System is functional, but efficiency can be increased by reducing non-essential burn categories."}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"h-1 w-1 bg-blue-500 rounded-full"}),e.jsx("span",{className:"text-[8px] text-slate-500 uppercase font-bold tracking-widest",children:"Efficiency Benchmark: 70.0%"})]})]})]})})]}):e.jsxs("div",{className:"flex-1 flex flex-col items-center justify-center p-8 text-center relative z-10",children:[e.jsx("div",{className:"w-12 h-12 bg-slate-800/50 rounded-full flex items-center justify-center mb-3 border border-white/5",children:e.jsx("span",{className:"text-xl",children:"ðŸ’§"})}),e.jsx("h3",{className:"text-slate-400 font-black text-[10px] uppercase tracking-[0.2em] mb-1",children:"System Scanning..."}),e.jsx("p",{className:"text-[10px] text-slate-600 uppercase tracking-widest max-w-[240px]",children:"No Risk Detected"})]})]})]})," "]})})]})},ne=({title:c,subtitle:o,icon:a,value:x,valueColor:f="text-white",isOpen:m,onToggle:S,children:A,className:h="",variant:D="safe"})=>{const X={safe:{active:"bg-[#0A84FF]/20 text-[#0A84FF]",border:"bg-[#0A84FF]/50"},growth:{active:"bg-[#BF5AF2]/20 text-[#BF5AF2]",border:"bg-[#BF5AF2]/50"},action:{active:"bg-[#FF9F0A]/20 text-[#FF9F0A]",border:"bg-[#FF9F0A]/50"}}[D];return e.jsxs("div",{className:`py-4 relative ${h}`,children:[m&&e.jsx("div",{className:`absolute left-[-16px] top-4 bottom-4 w-1 ${X.border} rounded-full`}),e.jsxs(F.div,{whileTap:{scale:.98},onClick:S,className:"flex sm:flex-row flex-col sm:items-center justify-between cursor-pointer group/collapsible gap-4",children:[e.jsxs("div",{className:"flex items-center gap-3 min-w-0",children:[e.jsx("div",{className:`w-8 h-8 rounded-xl flex-shrink-0 flex items-center justify-center transition-colors ${m?X.active:"bg-white/5 text-slate-500"}`,children:a}),e.jsxs("div",{className:"flex flex-col min-w-0 gap-0.5",children:[e.jsx("span",{className:"text-[11px] font-black uppercase tracking-widest text-slate-400 group-hover/collapsible:text-slate-200 truncate leading-tight font-sans",children:c}),o&&e.jsx("span",{className:"text-[9px] text-slate-600 uppercase font-bold tracking-widest truncate leading-tight font-sans",children:o})]})]}),e.jsxs("div",{className:"flex items-center gap-3 flex-shrink-0 sm:ml-4 ml-11",children:[x&&e.jsx("span",{className:`text-sm font-bold tabular-nums font-numeric ${f}`,children:x}),e.jsx(F.div,{animate:{rotate:m?180:0},transition:{duration:.3,ease:[.19,1,.22,1]},className:"sm:block hidden",children:e.jsx(Ye,{className:"w-4 h-4 text-slate-600"})})]})]}),e.jsx(Ge,{children:m&&e.jsx(F.div,{initial:{height:0,opacity:0},animate:{height:"auto",opacity:1},exit:{height:0,opacity:0},transition:{duration:.3,ease:[.19,1,.22,1]},className:"overflow-hidden",children:e.jsx("div",{className:"pt-6",children:A})})})]})},Pt=({variant:c,className:o=""})=>{const a=()=>{switch(c){case"safe":return e.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"0.5",className:"w-full h-full",children:[e.jsx("path",{d:"M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10z"}),e.jsx("circle",{cx:"12",cy:"12",r:"3"})]});case"growth":return e.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"0.5",className:"w-full h-full",children:[e.jsx("path",{d:"M12 20V10M18 20V4M6 20v-4"}),e.jsx("path",{d:"M3 20h18"})]});case"action":return e.jsx("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"0.5",className:"w-full h-full",children:e.jsx("path",{d:"M13 2L3 14h9l-1 8 10-12h-9l1-8z"})});default:return null}},x={safe:"text-blue-500/10",growth:"text-purple-500/10",action:"text-orange-500/10"};return e.jsx(F.div,{initial:{opacity:0,scale:.8},animate:{opacity:1,scale:1},className:`absolute -right-8 -bottom-8 w-64 h-64 pointer-events-none ${x[c]} ${o}`,children:a()})},ye={expenses:[{id:"s1",description:"Monthly Rent",amount:35e3,category:"Housing",date:new Date().toISOString(),tags:[],accountId:"a1",createdAt:new Date().toISOString()},{id:"s2",description:"Grocery Run",amount:8e3,category:"Food",date:new Date().toISOString(),tags:[],accountId:"a1",createdAt:new Date().toISOString()},{id:"s3",description:"Internet & Power",amount:4500,category:"Bills",date:new Date().toISOString(),tags:[],accountId:"a1",createdAt:new Date().toISOString()},{id:"s4",description:"Dining Out",amount:6e3,category:"Leisure",date:new Date().toISOString(),tags:[],accountId:"a1",createdAt:new Date().toISOString()}],incomes:[{id:"i1",amount:15e4,source:"Monthly Salary",date:new Date().toISOString(),tags:[],accountId:"a1",createdAt:new Date().toISOString()}],accounts:[{id:"a1",name:"Primary Bank",balance:45e4,type:"bank",color:"#3B82F6",icon:"building",createdAt:new Date().toISOString()},{id:"a2",name:"Cash on Hand",balance:5e3,type:"cash",color:"#10B981",icon:"wallet",createdAt:new Date().toISOString()}],goals:[{id:"g1",name:"Emergency Fund",targetAmount:24e4,currentAmount:24e4,emoji:"ðŸ›¡ï¸",type:"protection",targetDate:new Date().toISOString(),status:"active",createdAt:new Date().toISOString()},{id:"g2",name:"House Fund",targetAmount:5e6,currentAmount:15e5,emoji:"ðŸ ",type:"growth",targetDate:new Date().toISOString(),status:"active",createdAt:new Date().toISOString()}],liabilities:[],debts:[]},Vt=({expenses:c,incomes:o=[],currency:a,goals:x=[],emergencyFundAmount:f=0,liabilities:m=[],debts:S=[],investments:A=[],accounts:h=[],healthScore:D=50,userName:ce="User",isOffline:X=!1,isSampleMode:k=!1,onResumeOnboarding:y})=>{const Q=k?ye.expenses:c,ie=k?ye.incomes:o,T=k?ye.accounts:h,L=k?ye.goals:x,r=k?ye.liabilities:m,V=k?ye.debts:S,$=Q.map(t=>({...t,isInternalTransfer:t.isInternalTransfer||Ve(t)})),p=ie.map(t=>({...t,isInternalTransfer:t.isInternalTransfer||Ve(t)}));$.forEach(t=>{if(t.isInternalTransfer)return;const i=p.find(P=>!P.isInternalTransfer&&P.amount===t.amount&&P.date.split("T")[0]===t.date.split("T")[0]&&P.accountId!==t.accountId);i&&(t.isInternalTransfer=!0,i.isInternalTransfer=!0)});const{shadowWalletTotal:C,totalReserved:we,availableToSpend:Se,totalCreditUsage:de,totalCommitments:G}=bt({accounts:T,goals:L,liabilities:r,expenses:$,emergencyFundAmount:f}),[B,pe]=De.useState(null),_=new Date,R=_.getMonth(),l=_.getFullYear(),g=new Date(l,R-1,1),M=g.getMonth(),W=g.getFullYear(),se=new Date(l,R+1,0).getDate()-_.getDate()+1,re=$.filter(t=>{const i=new Date(t.date);return i.getMonth()===R&&i.getFullYear()===l&&!t.isInternalTransfer}),N=$.filter(t=>{const i=new Date(t.date);return i.getMonth()===M&&i.getFullYear()===W&&!t.isInternalTransfer}),j=t=>{pe(B===t?null:t)},Ne=x.length,be=m.reduce((t,i)=>t+(i.outstanding||i.principal||0),0),U=S.filter(t=>t.type==="borrowed"&&t.status==="pending"),Ae=U.reduce((t,i)=>t+i.amount,0),s=S.filter(t=>t.type==="lent"&&t.status==="pending"),d=s.reduce((t,i)=>t+i.amount,0),v=A.filter(t=>{if(t.accountId&&t.accountId!=="none"){const i=h.find(P=>P.id===t.accountId);if(i&&i.type!=="investment")return!1}return!0}),Z=v.reduce((t,i)=>t+i.buyPrice*i.quantity,0),xe=v.reduce((t,i)=>t+(i.currentPrice||i.buyPrice)*i.quantity,0),K=Z>0?((xe-Z)/Z*100).toFixed(1):"0.0",z=T.filter(t=>t.type==="bank"||t.type==="cash").reduce((t,i)=>t+i.balance,0),J=p.filter(t=>!t.isInternalTransfer).reduce((t,i)=>t+i.amount,0)||42500,ae=re.reduce((t,i)=>t+i.amount,0),me=N.reduce((t,i)=>t+i.amount,0),oe=me>0?Math.round((ae-me)/me*100):0,fe=re.filter(t=>t.category==="Subscription").reduce((t,i)=>t+i.amount,0),ge=z>0?ae/z:0,Le=(ge*100).toFixed(1)+"%",le=(t=>t>1?{status:"Aggressive",color:"text-rose-400",bg:"bg-rose-500/10",border:"border-rose-500/20",advice:"High-velocity detected. Spending is outpacing liquid nodes. Priority: Solidify safety buffer.",suggestion:"Consolidate spending and pause growth node transfers for 30 days."}:t<.3?{status:"Stagnant",color:"text-amber-400",bg:"bg-amber-500/10",border:"border-amber-500/20",advice:"Low-velocity detected. Capital is sitting idle in liquid nodes and losing theoretical power.",suggestion:"Highly recommended: Shift "+u(Math.floor(z*.2),a)+" to Money Growth."}:{status:"Optimal",color:"text-emerald-400",bg:"bg-emerald-500/10",border:"border-emerald-500/20",advice:"Optimal circulation. Capital flow is balanced between spending and holding.",suggestion:"Protocol: Continue current flow. System is in high-efficiency state."})(ge),Be={totalIncome:ie.reduce((t,i)=>t+i.amount,0),totalExpenses:Q.reduce((t,i)=>t+i.amount,0),expenses:Q,accounts:T,liabilities:r,currentMonthExpenses:$,recentTransactions:$.slice(0,5),activeDebts:r.length+V.filter(t=>t.status==="pending").length,goalsCount:L.length},H=Tt(Be),n=H.foundationLimit,he=!$.some(t=>{const i=Math.abs(_.getTime()-new Date(t.date).getTime());return Math.ceil(i/(1e3*60*60*24))<=3});return e.jsxs("div",{className:"main-grid",children:[k&&e.jsx("div",{className:"mx-4 mb-6 pt-4",children:e.jsxs(F.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},className:"bg-indigo-600/10 border border-indigo-500/20 p-6 squircle-24 relative overflow-hidden group",children:[e.jsx("div",{className:"absolute top-0 right-0 p-4 opacity-10 group-hover:opacity-20 transition-opacity",children:e.jsx(ke,{className:"w-12 h-12 text-indigo-400"})}),e.jsxs("div",{className:"relative z-10 space-y-4",children:[e.jsxs("div",{className:"space-y-1",children:[e.jsx("div",{className:"text-[10px] font-black text-indigo-400 uppercase tracking-[0.3em]",children:"Simulation: Healthy Flight Path"}),e.jsxs("p",{className:"text-white font-medium leading-relaxed",children:["This is what a healthy flight path looks like. To see your actual ",e.jsx("span",{className:"text-indigo-400 font-bold",children:"Freedom Days"}),", we need to plug in your specific Shield and Leak data."]})]}),e.jsxs("button",{onClick:y,className:"w-full py-3 bg-indigo-500 text-black font-black uppercase tracking-widest rounded-2xl hover:bg-indigo-400 transition-all flex items-center justify-center gap-2",children:["Resume Onboarding ",e.jsx(ot,{className:"w-4 h-4"})]})]})]})}),he&&!k&&e.jsxs(F.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},className:"col-span-full mx-4 mb-4 p-5 bg-yellow-500/10 border border-yellow-500/20 rounded-3xl flex items-center gap-4 relative overflow-hidden",children:[e.jsx("div",{className:"w-12 h-12 bg-yellow-500/10 rounded-2xl flex items-center justify-center flex-shrink-0",children:e.jsx(ve,{className:"w-6 h-6 text-yellow-500 animate-pulse"})}),e.jsxs("div",{children:[e.jsx("h4",{className:"text-xs font-black uppercase tracking-widest text-yellow-500 mb-1",children:"Reality Check"}),e.jsxs("p",{className:"text-sm text-slate-300 font-medium leading-tight",children:["Zero expenses recorded in 3+ days. Did you forget ",e.jsx("span",{className:"text-white font-bold",children:"Groceries"}),", ",e.jsx("span",{className:"text-white font-bold",children:"Transport"}),", or ",e.jsx("span",{className:"text-white font-bold",children:"Dining"}),"?"]})]})]}),e.jsx(Ct,{message:`Assessment: ${H.isRestricted?"Restricted":"Growth"}-protocol active. Foundation-adjusted limit is ${u(n,a,!0)} for the next ${H.remainingDays} days.`,icon:H.isRestricted?e.jsx(ke,{className:"w-4 h-4 text-orange-400"}):e.jsx($e,{className:"w-4 h-4 text-blue-400"})}),e.jsxs(F.div,{layout:!0,initial:!1,className:"bg-slate-900 border border-white/5 group transition-all duration-500 col-span-full relative overflow-hidden sq-2xl shadow-[0_32px_64px_-16px_rgba(0,0,0,0.5)]",children:[e.jsx(Y,{variant:"safe",animate:!0}),e.jsx(Pt,{variant:"safe"}),e.jsx("div",{className:"absolute top-0 left-0 w-1.5 h-full bg-teal-500/50"}),e.jsx("div",{className:"stack-cap relative z-10 py-10 px-8",children:e.jsxs("div",{className:"flex flex-col items-center text-center relative z-20",children:[e.jsxs("div",{className:"flex flex-col items-center mb-6",children:[e.jsx(F.div,{whileHover:{scale:1.05},className:"w-14 h-14 bg-blue-500/10 flex items-center justify-center border border-blue-500/20 shadow-2xl backdrop-blur-md mb-4 sq-xl",children:e.jsx(Pe,{className:"text-blue-400 w-7 h-7"})}),e.jsxs("div",{className:"space-y-1",children:[e.jsx("h3",{className:"text-label text-[11px] font-black tracking-[0.2em] text-blue-400/80 uppercase",children:"Balance Board"}),e.jsxs("div",{className:"flex items-center gap-2 justify-center",children:[e.jsx("div",{className:`px-2 py-0.5 rounded-full text-[8px] font-black uppercase tracking-widest border transition-colors ${H.isRestricted?"bg-orange-500/10 text-orange-300 border-orange-500/20":"bg-blue-500/10 text-blue-300 border-blue-500/20"}`,children:H.isRestricted?"Restricted Limit":"Growth-Ready"}),e.jsx("div",{className:`w-1.5 h-1.5 rounded-full animate-pulse ${H.isRestricted?"bg-orange-500":"bg-emerald-500"}`})]})]})]}),e.jsx(F.div,{layoutId:"balance-mount",className:"text-[min(12vw,4.5rem)] leading-none tabular-nums text-white font-black tracking-tight",children:e.jsx(E,{value:z,currency:a})}),e.jsx("p",{className:"text-[10px] text-slate-500 font-bold uppercase tracking-[0.3em] mt-4",children:"Institutional Nodes Reconciled"})]})}),e.jsxs("div",{className:"stack-body relative z-10",children:[e.jsx("div",{className:"dotted-divider opacity-50 mb-6"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-6",children:[e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center gap-1.5 mb-1.5 opacity-60",children:[e.jsx("p",{className:"text-label text-[10px] font-black uppercase",children:"Daily Spend"}),e.jsx(dt,{children:e.jsxs(xt,{children:[e.jsx(mt,{children:e.jsx(Ze,{className:"w-3 h-3 text-slate-500"})}),e.jsx(ht,{className:"bg-slate-900 border-white/10 p-4 sq-xl shadow-2xl backdrop-blur-xl z-[100]",children:e.jsxs("div",{className:"space-y-2 text-[10px] font-bold uppercase tracking-widest min-w-[200px]",children:[e.jsx("p",{className:"text-slate-500 mb-2 border-b border-white/5 pb-2",children:"DSL Protocol Breakdown"}),e.jsxs("div",{className:"flex justify-between gap-4",children:[e.jsx("span",{className:"text-slate-400",children:"Total Liquidity"}),e.jsx("span",{className:"text-white",children:u(z,a)})]}),e.jsxs("div",{className:"flex justify-between gap-4",children:[e.jsx("span",{className:"text-slate-400",children:"Reserved (Goals + EF)"}),e.jsxs("span",{className:"text-rose-500",children:["-",u(C,a)]})]}),e.jsxs("div",{className:"flex justify-between gap-4",children:[e.jsx("span",{className:"text-slate-400",children:"Obligations (EMI/Bills)"}),e.jsxs("span",{className:"text-rose-500",children:["-",u(G,a)]})]}),e.jsx("div",{className:"h-px bg-white/5 my-2"}),e.jsxs("div",{className:"flex justify-between gap-4 text-emerald-400",children:[e.jsx("span",{children:"Available Safety"}),e.jsx("span",{children:u(Se,a)})]}),e.jsxs("div",{className:"flex justify-between gap-4 text-blue-400 pt-1",children:[e.jsxs("span",{children:["Cycle (",se," days)"]}),e.jsxs("span",{children:[u(n,a),"/day"]})]}),H.tier0DebtService>0&&e.jsxs("div",{className:"mt-4 p-3 bg-rose-500/10 border border-rose-500/20 rounded-xl space-y-2.5",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(ke,{className:"w-3 h-3 text-rose-400"}),e.jsx("span",{className:"text-[10px] font-black uppercase text-rose-400 tracking-wider",children:"Intelligence: Opportunity Cost"})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[e.jsxs("div",{className:"flex flex-col gap-0.5",children:[e.jsx("span",{className:"text-[8px] text-slate-500 uppercase font-black tracking-tight",children:"Leak Rate"}),e.jsxs("span",{className:"text-[11px] text-rose-300 font-mono font-black leading-none",children:[H.maxInterestRate,"%"]})]}),e.jsxs("div",{className:"flex flex-col gap-0.5 border-l border-white/5 pl-2",children:[e.jsx("span",{className:"text-[8px] text-slate-500 uppercase font-black tracking-tight",children:"Idle Capital"}),e.jsx("span",{className:"text-[11px] text-blue-300 font-mono font-black leading-none",children:u(C,a)})]})]}),e.jsxs("p",{className:"text-[9px] text-slate-400 leading-relaxed font-medium italic border-t border-rose-500/10 pt-2",children:["Holding cash while paying ",e.jsxs("span",{className:"text-rose-300 font-bold",children:[H.maxInterestRate,"%"]})," interest is a ",e.jsx("span",{className:"not-italic text-rose-400 font-black",children:"negative-sum game"}),". Reserves cost you ",e.jsxs("span",{className:"text-rose-300 font-bold",children:[u(C*H.maxInterestRate/100/12,a),"/mo"]}),"."]})]})]})})]})})]}),e.jsx("div",{className:"text-[clamp(1.5rem,5vw,1.875rem)] text-white font-black tabular-nums",children:e.jsx(E,{value:n,currency:a})})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-label text-[10px] mb-1.5 opacity-60 font-black",children:"Budget Left"}),e.jsx("div",{className:"text-[clamp(1.5rem,5vw,1.875rem)] text-emerald-400 font-black tabular-nums",children:e.jsx(E,{value:Se,currency:a})})]})]}),e.jsx("div",{className:"dotted-divider opacity-50 mb-6"})]}),e.jsxs("div",{className:"stack-footer relative z-10 space-y-2",children:[e.jsx(ne,{title:"Liquidity Nodes",subtitle:"Institutional Reservoirs",icon:e.jsx(Ee,{className:"w-4 h-4"}),value:u(z,a),isOpen:B==="liquidity-group",onToggle:()=>j("liquidity-group"),variant:"safe",children:e.jsx("div",{className:"space-y-3",children:h.filter(t=>t.type==="bank"||t.type==="cash").map(t=>e.jsxs("div",{id:`acc-${t.id}`,className:"flex justify-between items-center p-4 bg-slate-900/50 rounded-2xl border border-white/5",children:[e.jsxs("div",{className:"flex items-center gap-3 min-w-0",children:[t.type==="bank"?e.jsx(Ee,{className:"w-4 h-4 text-blue-400 flex-shrink-0"}):e.jsx(Pe,{className:"w-4 h-4 text-emerald-400 flex-shrink-0"}),e.jsxs("div",{className:"min-w-0",children:[e.jsx("p",{className:"text-[11px] font-black text-slate-200 uppercase truncate leading-tight",children:t.name}),e.jsx("p",{className:"text-[9px] text-slate-600 uppercase font-bold tracking-widest truncate leading-tight",children:t.type==="bank"?"Institutional Reservoir":"Physical Cash Node"})]})]}),e.jsx("span",{className:"text-sm font-bold text-white tabular-nums flex-shrink-0 ml-2",children:u(t.balance,a)})]},t.id))})}),e.jsx(ne,{title:"Debt & Liability",subtitle:"Capital Sourced",icon:e.jsx(ve,{className:"w-4 h-4"}),value:e.jsx(E,{value:be+Ae+de,currency:a}),valueColor:"text-rose-400",isOpen:B==="debt-group",onToggle:()=>j("debt-group"),variant:"safe",children:e.jsx("div",{className:"space-y-3",children:[...m,...U,...h.filter(t=>t.type==="credit_card"&&t.balance<0)].length===0?e.jsxs("div",{className:"p-6 bg-slate-800/20 border border-dashed border-white/5 squircle-12 text-center",children:[e.jsx(ve,{className:"w-8 h-8 mx-auto text-slate-700 mb-2"}),e.jsx("p",{className:"text-xs text-slate-500 font-bold uppercase tracking-widest",children:"No active liabilities found"}),e.jsx("p",{className:"text-[10px] text-slate-600 mt-1 whitespace-nowrap",children:"Your financial circulation is debt-free"})]}):e.jsxs(e.Fragment,{children:[m.map(t=>e.jsxs("div",{id:`liability-${t.id}`,className:"flex justify-between items-center p-4 bg-slate-900/50 rounded-2xl border border-white/5",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(Ee,{className:"w-4 h-4 text-slate-500"}),e.jsxs("div",{className:"min-w-0",children:[e.jsx("p",{className:"text-[10px] font-black text-slate-200 uppercase truncate",children:t.name}),e.jsx("p",{className:"text-[9px] text-slate-600 uppercase font-black tracking-widest",children:"Loan Reservoir"})]})]}),e.jsx("span",{className:"text-sm font-bold text-rose-400 tabular-nums",children:e.jsx(E,{value:t.outstanding||t.principal,currency:a})})]},t.id)),h.filter(t=>t.type==="credit_card"&&t.balance<0).map(t=>e.jsxs("div",{id:`card-${t.id}`,className:"flex justify-between items-center p-4 bg-slate-900/50 rounded-2xl border border-white/5",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(ct,{className:"w-4 h-4 text-slate-500"}),e.jsxs("div",{className:"min-w-0",children:[e.jsx("p",{className:"text-[10px] font-black text-slate-200 uppercase truncate",children:t.name}),e.jsx("p",{className:"text-[9px] text-slate-600 uppercase font-black tracking-widest",children:"Card Usage"})]})]}),e.jsx("span",{className:"text-sm font-bold text-rose-400 tabular-nums",children:e.jsx(E,{value:Math.abs(t.balance),currency:a})})]},t.id)),U.map(t=>e.jsxs("div",{id:`borrowed-${t.id}`,className:"flex justify-between items-center p-4 bg-slate-900/50 rounded-2xl border border-white/5",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(Oe,{className:"w-4 h-4 text-slate-500"}),e.jsxs("div",{className:"min-w-0",children:[e.jsx("p",{className:"text-[10px] font-black text-slate-200 uppercase truncate",children:t.personName}),e.jsx("p",{className:"text-[9px] text-slate-600 uppercase font-black tracking-widest",children:"Personal IOU"})]})]}),e.jsx("span",{className:"text-sm font-bold text-rose-400 tabular-nums",children:e.jsx(E,{value:t.amount,currency:a})})]},t.id))]})})}),e.jsx(ne,{title:"Growth Assets",subtitle:"Wealth Engines",icon:e.jsx(ue,{className:"w-4 h-4"}),value:e.jsx(E,{value:xe,currency:a}),isOpen:B==="invest-group",onToggle:()=>j("invest-group"),variant:"safe",children:e.jsx("div",{className:"space-y-3",children:A.length===0?e.jsxs("div",{className:"p-6 bg-slate-800/20 border border-dashed border-white/5 squircle-12 text-center",children:[e.jsx(ue,{className:"w-8 h-8 mx-auto text-slate-700 mb-2"}),e.jsx("p",{className:"text-xs text-slate-500 font-bold uppercase tracking-widest",children:"No active investments"})]}):A.slice(0,3).map(t=>e.jsxs("div",{id:`inv-${t.id}`,className:"flex justify-between items-center p-4 bg-slate-900/50 rounded-2xl border border-white/5",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(ue,{className:"w-4 h-4 text-blue-400"}),e.jsxs("div",{className:"min-w-0",children:[e.jsx("p",{className:"text-[10px] font-black text-slate-200 uppercase truncate",children:t.symbol||t.name}),e.jsxs("p",{className:"text-[9px] text-slate-600 uppercase font-black tracking-widest",children:[t.type," Node"]})]})]}),e.jsx("span",{className:"text-sm font-bold text-white tabular-nums",children:u(t.quantity*(t.currentPrice||t.buyPrice),a)})]},t.id))})}),e.jsx(ne,{title:"Lent & Receivables",subtitle:"Trust Capital Displaced",icon:e.jsx(He,{className:"w-4 h-4"}),value:e.jsx(E,{value:d,currency:a}),isOpen:B==="receivable-group",onToggle:()=>j("receivable-group"),variant:"safe",children:e.jsx("div",{className:"space-y-3",children:s.length===0?e.jsxs("div",{className:"p-6 bg-slate-800/20 border border-dashed border-white/5 squircle-12 text-center",children:[e.jsx(ue,{className:"w-8 h-8 mx-auto text-slate-700 mb-2"}),e.jsx("p",{className:"text-xs text-slate-500 font-bold uppercase tracking-widest",children:"No active receivables"}),e.jsx("p",{className:"text-[10px] text-slate-600 mt-1 whitespace-nowrap",children:"You haven't lent money recently"})]}):s.map(t=>e.jsxs("div",{id:`lent-${t.id}`,className:"flex justify-between items-center p-4 bg-slate-900/50 rounded-xl border border-white/5",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(Oe,{className:"w-4 h-4 text-slate-500"}),e.jsxs("div",{className:"min-w-0",children:[e.jsx("p",{className:"text-[10px] font-black text-slate-200 uppercase truncate",children:t.personName}),e.jsx("p",{className:"text-[9px] text-slate-600 uppercase font-black tracking-widest",children:"Receivable Asset"})]})]}),e.jsx("span",{className:"text-sm font-bold text-emerald-400 tabular-nums",children:e.jsx(E,{value:t.amount,currency:a})})]},t.id))})})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3 col-span-full",children:[e.jsxs("div",{className:"grid-widget bg-slate-900 border border-white/5 relative overflow-hidden h-full",children:[e.jsx(Y,{variant:"safe",animate:!0}),e.jsx("div",{className:"absolute top-0 left-0 w-1 h-full bg-teal-500/50"}),e.jsxs("div",{className:"relative z-10 p-6 h-full flex flex-col",children:[e.jsxs("div",{className:"flex flex-wrap items-center gap-3 mb-6",children:[e.jsx("div",{className:"w-10 h-10 bg-indigo-500/10 flex items-center justify-center border border-indigo-500/20 sq-md flex-shrink-0",children:e.jsx(ke,{className:"text-indigo-400 w-5 h-5"})}),e.jsxs("div",{className:"min-w-0 flex flex-col gap-0.5",children:[e.jsx("h3",{className:"text-white font-black text-[10px] uppercase tracking-[0.2em] truncate",children:"Circulation"}),e.jsx("p",{className:"text-[9px] text-slate-500 font-bold uppercase tracking-widest mt-0.5 truncate",children:"Active Expense Node"})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(ne,{title:"Cash Flow Speed",subtitle:le.status,icon:e.jsx(ve,{className:"w-4 h-4"}),value:Le,valueColor:le.color,isOpen:B==="flow-speed",onToggle:()=>j("flow-speed"),children:e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{className:"bg-slate-900/50 p-4 sq-md border border-white/5",children:[e.jsx("span",{className:"text-[8px] text-slate-500 uppercase block mb-1",children:"Gross Income (Est)"}),e.jsxs("div",{className:"text-emerald-400 font-bold tabular-nums font-mono",children:["~",e.jsx(E,{value:J,currency:a})]})]}),e.jsxs("div",{className:"bg-slate-900/50 p-4 sq-md border border-white/5",children:[e.jsx("span",{className:"text-[8px] text-slate-500 uppercase block mb-1",children:"Gross Burn"}),e.jsx("div",{className:"text-red-400 font-bold tabular-nums font-mono",children:e.jsx(E,{value:ae,currency:a})})]}),e.jsxs("div",{className:"col-span-2 space-y-4",children:[e.jsx("div",{className:`p-5 rounded-xl border ${le.bg} ${le.border}`,children:e.jsx("p",{className:"text-xs text-slate-300 leading-relaxed",children:le.advice})}),e.jsx("div",{className:"p-5 rounded-xl bg-blue-500/5 border border-blue-500/10",children:e.jsx("p",{className:"text-xs text-white font-medium leading-relaxed",children:le.suggestion})})]})]})}),e.jsx(ne,{title:"Monthly Spending",subtitle:`${oe>=0?"Increase":"Decrease"} Node`,icon:e.jsx(He,{className:"w-4 h-4"}),value:`${oe>0?"+":""}${oe}%`,valueColor:oe>0?"text-rose-400":"text-emerald-400",isOpen:B==="spending-flow",onToggle:()=>j("spending-flow"),children:e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{className:"p-4 bg-slate-800/50 rounded-xl border border-white/5",children:[e.jsx("span",{className:"text-[8px] text-slate-500 uppercase block mb-1",children:"Daily Spend Avg"}),e.jsx("span",{className:"text-sm font-bold tabular-nums",children:u(Math.floor(ae/30),a)})]}),e.jsxs("div",{className:"p-4 bg-slate-800/50 rounded-xl border border-white/5",children:[e.jsx("span",{className:"text-[8px] text-slate-500 uppercase block mb-1",children:"Subscriptions"}),e.jsx("span",{className:"text-sm font-bold tabular-nums",children:u(fe,a)})]})]})})]})]})]}),e.jsxs("div",{className:"grid-widget bg-slate-900 border border-white/5 relative overflow-hidden h-full",children:[e.jsx(Y,{variant:"safe",animate:!0}),e.jsx("div",{className:"absolute top-0 left-0 w-1 h-full bg-teal-500/50"}),e.jsxs("div",{className:"relative z-10 p-6 h-full flex flex-col",children:[e.jsxs("div",{className:"flex flex-wrap items-center gap-3 mb-6",children:[e.jsx("div",{className:"w-10 h-10 bg-emerald-500/10 flex items-center justify-center border border-emerald-500/20 sq-md flex-shrink-0",children:e.jsx($e,{className:"text-emerald-400 w-5 h-5"})}),e.jsxs("div",{className:"min-w-0 flex flex-col gap-0.5",children:[e.jsx("h3",{className:"text-white font-black text-[10px] uppercase tracking-[0.2em] truncate",children:"Reserves"}),e.jsx("p",{className:"text-[9px] text-slate-500 font-bold uppercase tracking-widest mt-0.5 truncate",children:"Capital Accumulation"})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(ne,{title:"Money Set Aside",subtitle:`${Ne+(f>0?1:0)+(G>0?1:0)} Buckets Active`,icon:e.jsx(Pe,{className:"w-4 h-4"}),value:Ce(we,a),valueColor:"text-blue-400",isOpen:B==="reserve-vault",onToggle:()=>j("reserve-vault"),children:e.jsxs("div",{className:"space-y-4",children:[f>0&&e.jsxs("div",{className:"flex justify-between items-center p-4 bg-white/5 rounded-xl border border-white/5",children:[e.jsx("span",{className:"text-xs text-slate-300 block",children:"Emergency Fund"}),e.jsx("div",{className:"font-bold text-emerald-400 tabular-nums font-mono",children:e.jsx(E,{value:f,currency:a})})]}),G>0&&e.jsxs("div",{className:"flex justify-between items-center p-4 bg-white/5 rounded-xl border border-white/5",children:[e.jsx("span",{className:"text-xs text-slate-300 block",children:"Upcoming Bills/EMI"}),e.jsx("div",{className:"font-bold text-red-400 tabular-nums font-mono",children:e.jsx(E,{value:G,currency:a})})]})]})}),e.jsx(ne,{title:"Active Goals",subtitle:"Targets Initialized",icon:e.jsx(Oe,{className:"w-4 h-4"}),value:Ce(C,a),valueColor:"text-emerald-400",isOpen:B==="goals-vault",onToggle:()=>j("goals-vault"),children:e.jsx("div",{className:"space-y-3",children:x.map(t=>e.jsxs("div",{id:`goal-${t.id}`,className:"flex justify-between items-center p-4 bg-white/5 rounded-xl border border-white/5",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("span",{className:"text-xl",children:t.emoji||"ðŸŽ¯"}),e.jsxs("div",{children:[e.jsx("span",{className:"text-xs text-slate-300 block",children:t.name}),e.jsx("span",{className:"text-[9px] text-slate-500 uppercase font-black tracking-widest",children:t.type||"Future Node"})]})]}),e.jsxs("div",{className:"text-right",children:[e.jsx("span",{className:"font-bold text-white tabular-nums font-mono block",children:u(t.currentAmount,a)}),e.jsxs("span",{className:"text-[8px] text-slate-500 uppercase tracking-tighter",children:["of ",u(t.targetAmount,a)]})]})]},t.id))})})]})]})]}),e.jsxs("div",{className:"grid-widget bg-slate-900 border border-white/5 relative overflow-hidden h-full",children:[e.jsx(Y,{variant:"safe",animate:!0}),e.jsx("div",{className:"absolute top-0 left-0 w-1 h-full bg-teal-500/50"}),e.jsxs("div",{className:"relative z-10 p-6 h-full flex flex-col",children:[e.jsxs("div",{className:"flex flex-wrap items-center gap-3 mb-6",children:[e.jsx("div",{className:"w-10 h-10 bg-blue-500/10 flex items-center justify-center border border-blue-500/20 sq-md flex-shrink-0",children:e.jsx(ve,{className:"text-blue-400 w-5 h-5"})}),e.jsxs("div",{className:"min-w-0 flex flex-col gap-0.5",children:[e.jsx("h3",{className:"text-white font-black text-[10px] uppercase tracking-[0.2em] truncate",children:"Obligations"}),e.jsx("p",{className:"text-[9px] text-slate-500 font-bold uppercase tracking-widest mt-0.5 truncate",children:"Institutional Debt"})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(ne,{title:"Active Liabilities",subtitle:`${m.length+U.length} Active Strings`,icon:e.jsx(ve,{className:"w-4 h-4"}),value:e.jsx(E,{value:be+Ae+de,currency:a}),valueColor:"text-rose-400",isOpen:B==="debt-widget",onToggle:()=>j("debt-widget"),children:e.jsxs("div",{className:"space-y-3",children:[m.map(t=>e.jsxs("div",{id:`ob-liability-${t.id}`,className:"flex justify-between items-center p-3 bg-white/5 rounded-xl border border-white/5",children:[e.jsx("span",{className:"text-[10px] font-bold text-slate-300 uppercase truncate",children:t.name}),e.jsx("span",{className:"text-xs font-bold text-rose-400 tabular-nums font-mono",children:u(t.outstanding||t.principal,a)})]},t.id)),de>0&&e.jsxs("div",{className:"flex justify-between items-center p-3 bg-white/5 rounded-xl border border-white/5",children:[e.jsx("span",{className:"text-[10px] font-bold text-slate-300 uppercase",children:"Card Usage"}),e.jsx("span",{className:"text-xs font-bold text-rose-400 tabular-nums font-mono",children:u(de,a)})]}),U.map(t=>e.jsxs("div",{id:`ob-borrowed-${t.id}`,className:"flex justify-between items-center p-3 bg-white/5 rounded-xl border border-white/5",children:[e.jsx("span",{className:"text-[10px] font-bold text-slate-300 uppercase truncate",children:t.personName}),e.jsx("span",{className:"text-xs font-bold text-rose-400 tabular-nums font-mono",children:u(t.amount,a)})]},t.id)),m.length===0&&de===0&&U.length===0&&e.jsx("p",{className:"text-[10px] text-slate-500 text-center py-4",children:"No active obligations detected."})]})}),m.length>0&&e.jsxs("div",{className:"p-4 bg-rose-500/5 border border-rose-500/10 rounded-xl",children:[e.jsx("p",{className:"text-[9px] text-rose-400 font-bold uppercase tracking-widest mb-1",children:"Tactical Mode Active"}),e.jsx("p",{className:"text-[10px] text-slate-400 leading-tight",children:"Payback optimization logic is currently prioritizing high-interest nodes."})]})]})]})]}),e.jsxs("div",{className:"grid-widget bg-slate-900 border border-white/5 relative overflow-hidden h-full",children:[e.jsx(Y,{variant:"safe",animate:!0}),e.jsx("div",{className:"absolute top-0 left-0 w-1 h-full bg-teal-500/50"}),e.jsxs("div",{className:"relative z-10 p-6 h-full flex flex-col",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[e.jsx("div",{className:"w-10 h-10 bg-blue-500/10 flex items-center justify-center border border-blue-500/20 sq-md",children:e.jsx(ue,{className:"text-blue-400 w-5 h-5"})}),e.jsxs("div",{className:"min-w-0 flex flex-col gap-0.5",children:[e.jsx("h3",{className:"text-white font-black text-[10px] uppercase tracking-[0.2em]",children:"Growth"}),e.jsx("p",{className:"text-[9px] text-slate-500 font-bold uppercase tracking-widest mt-0.5",children:"Asset Expansion"})]})]}),e.jsx("div",{className:"space-y-2",children:e.jsx(ne,{title:"Money Growth",subtitle:`${parseFloat(K)>=0?"+":""}${K}% Velocity`,icon:e.jsx(ue,{className:"w-4 h-4"}),value:Ce(xe,a),valueColor:"text-emerald-400",isOpen:B==="invest-growth-widget",onToggle:()=>j("invest-growth-widget"),children:e.jsxs("div",{className:"p-6 bg-white/5 border border-dashed border-white/10 rounded-xl text-center",children:[e.jsx(ve,{className:"w-8 h-8 mx-auto text-slate-700 mb-2"}),e.jsx("p",{className:"text-xs text-slate-500 font-bold uppercase tracking-widest",children:"Portfolio Deep Dive"}),e.jsx("p",{className:"text-[10px] text-slate-600 mt-1",children:"Visit Investments tab for detailed node analysis"})]})})})]})]})]}),m.length>0&&e.jsx(Ft,{liabilities:m}),(()=>{const t=m.reduce((b,I)=>b+(I.emiAmount||0),0),P=h.filter(b=>b.type==="credit_card").reduce((b,I)=>b+Math.abs(I.balance),0)*.05,je=t+P,ee=h.filter(b=>b.type==="bank").map(b=>b.id),te=h.filter(b=>["bank","cash","credit_card"].includes(b.type)).map(b=>b.id),ze=p.filter(b=>{const I=new Date(b.date);return I.getMonth()===R&&I.getFullYear()===l&&ee.includes(b.accountId)&&!b.isInternalTransfer}).reduce((b,I)=>b+I.amount,0)||J,Ke=A.filter(b=>{const I=new Date(b.purchaseDate);return I.getMonth()===R&&I.getFullYear()===l}).reduce((b,I)=>b+I.buyPrice*I.quantity,0),Je=$.filter(b=>{const I=new Date(b.date);return I.getMonth()===R&&I.getFullYear()===l&&te.includes(b.accountId)&&!b.isInternalTransfer}).reduce((b,I)=>b+I.amount,0)+Ke,Xe=ze>0?Je/ze:0;return e.jsx(Bt,{currency:a,expenses:$,incomes:p,accounts:h,goals:x,liabilities:m,savingsRate:J>0?(J-ae)/J*100:0,dtiRatio:J>0?je/J:0,outflowRatio:Xe,healthScore:D,userName:ce,debts:S,isOffline:X})})(),e.jsx("div",{className:"h-24 w-full col-span-full"})]})};export{Vt as Dashboard};
