import{r as j,j as e,a$ as H,n as Q,C as X,b0 as Z,aO as ee,z as A,a4 as C,b1 as Y,aL as D,B as se,E as te,b2 as ae,Q as re,Y as R,b3 as $,K as O,b4 as ne,b5 as ie,b6 as oe,b7 as le,b8 as ce,b9 as de,ba as xe,bb as he,F as G,aw as T,k as U}from"./ui-Ce9YeQZa.js";import{b as me,c as pe,d as ue,e as N,M as ge,f,A as be,m as I,L as we,I as fe,B as w,g as b,t as je}from"./index-DHabN7TV.js";import{H as z}from"./haptics-C9gh8PRt.js";import{ah as q}from"./motion-BWOTBQax.js";import"./vendor-Cgg2GOmP.js";import"./charts--ivomIfj.js";function Ne(t){t.values.forEach(r=>r.stop())}function E(t,r){[...r].reverse().forEach(n=>{const i=t.getVariant(n);i&&q(t,i),t.variantChildren&&t.variantChildren.forEach(l=>{E(l,r)})})}function ve(t,r){if(Array.isArray(r))return E(t,r);if(typeof r=="string")return E(t,[r]);q(t,r)}function ye(){const t=new Set,r={subscribe(a){return t.add(a),()=>{t.delete(a)}},start(a,n){const i=[];return t.forEach(l=>{i.push(me(l,a,{transitionOverride:n}))}),Promise.all(i)},set(a){return t.forEach(n=>{ve(n,a)})},stop(){t.forEach(a=>{Ne(a)})},mount(){return()=>{r.stop()}}};return r}function Ce(){const t=pe(ye);return ue(t.mount,[]),t}const ke=Ce;function Le({currentMonthTransactions:t,recentTransactions:r,totalLiquidity:a,currency:n}){const[i,l]=j.useState(!1),o=t.incomes.reduce((d,u)=>d+u.amount,0),m=t.expenses.reduce((d,u)=>d+u.amount,0),p=t.expenses.reduce((d,u)=>d+(u.serviceChargeAmount||0),0),h=o-m-p;return e.jsx(N,{className:"p-0 bg-transparent border-none shadow-none overflow-hidden relative",children:e.jsxs("div",{className:"frosted-plate rounded-[24px] border border-white/5 relative overflow-hidden",children:[e.jsx(ge,{variant:"spending"}),e.jsxs("div",{className:"p-4 flex items-center justify-between cursor-pointer hover:bg-white/5 transition-colors",onClick:()=>l(!i),children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-10 h-10 bg-cyan-500/10 rounded-xl flex items-center justify-center border border-cyan-500/20",children:e.jsx(H,{className:"w-5 h-5 text-cyan-400"})}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-slate-100 font-bold text-xs uppercase tracking-widest font-mono",children:"System stream"}),e.jsx("p",{className:"text-[10px] text-slate-500 uppercase tracking-tighter",children:"Active Cycle Analysis"})]})]}),e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsxs("div",{className:"hidden sm:block text-right mr-2",children:[e.jsx("p",{className:"text-[10px] text-slate-500 uppercase tracking-wider font-extrabold font-mono",children:"Total Liquidity"}),e.jsx("p",{className:"text-sm font-black text-white tabular-nums font-mono",children:f(a,n)})]}),e.jsxs("div",{className:"hidden sm:block text-right mr-2 border-l border-white/5 pl-4",children:[e.jsx("p",{className:"text-[10px] text-slate-500 uppercase tracking-wider font-extrabold font-mono",children:"Monthly Flow"}),e.jsx("p",{className:`text-xs font-bold font-mono ${h>=0?"text-cyan-400":"text-rose-400"}`,children:f(h,n)})]}),e.jsx("div",{className:"w-8 h-8 rounded-full bg-white/5 flex items-center justify-center text-slate-400 border border-white/5 active:scale-95 transition-all",children:i?e.jsx(Q,{size:18}):e.jsx(X,{size:18})})]})]}),e.jsx(be,{children:i&&e.jsx(I.div,{initial:{height:0,opacity:0},animate:{height:"auto",opacity:1},exit:{height:0,opacity:0},transition:{duration:.3,ease:"easeInOut"},className:"overflow-hidden",children:e.jsxs("div",{className:"p-4 pt-0 space-y-4",children:[e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-3",children:[e.jsxs("div",{className:"bg-slate-800/50 border border-white/5 p-3 rounded-2xl",children:[e.jsx("p",{className:"text-[10px] text-slate-400 uppercase tracking-wider mb-1",children:"Money In"}),e.jsx("p",{className:"text-base sm:text-lg font-bold text-emerald-400 truncate",children:f(o,n)}),e.jsxs("p",{className:"text-[10px] text-slate-500",children:[t.incomes.length," transactions"]})]}),e.jsxs("div",{className:"bg-slate-800/50 border border-white/5 p-3 rounded-2xl",children:[e.jsx("p",{className:"text-[10px] text-slate-400 uppercase tracking-wider mb-1",children:"Total Burn"}),e.jsx("p",{className:"text-base sm:text-lg font-bold text-rose-400 truncate",children:f(m,n)}),e.jsxs("p",{className:"text-[10px] text-slate-500",children:[t.expenses.length," transactions"]})]}),e.jsxs("div",{className:"bg-slate-800/50 border border-white/5 p-3 rounded-2xl",children:[e.jsx("p",{className:"text-[10px] text-slate-400 uppercase tracking-wider mb-1",children:"Service Costs"}),e.jsx("p",{className:"text-base sm:text-lg font-bold text-amber-400 truncate",children:f(p,n)}),e.jsx("p",{className:"text-[10px] text-slate-500",children:"Credit fees tracked"})]})]}),r.length>0&&e.jsxs("div",{className:"pt-4 border-t border-white/5",children:[e.jsx("p",{className:"text-[10px] text-slate-500 uppercase tracking-wider mb-3",children:"Recent Activity"}),e.jsx("div",{className:"space-y-2",children:r.map((d,u)=>{const g=d.type==="income",y=d.type==="debt";let x="";return g?x=d.source:y?x=`${d.type==="borrowed"?"Borrowed from":"Lent to"} ${d.personName}`:x=d.description,e.jsxs("div",{className:"flex items-center justify-between bg-slate-800/30 border border-white/5 p-2 rounded-xl",children:[e.jsxs("div",{className:"flex-1 min-w-0 flex items-center gap-2",children:[e.jsx("span",{className:"text-lg",children:g?"ðŸ’°":y?"ðŸ¤":"ðŸ’¸"}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("p",{className:"text-xs truncate text-slate-200",children:x}),e.jsx("p",{className:"text-[10px] text-slate-500",children:new Date(d.date).toLocaleDateString()})]})]}),e.jsx("p",{className:`text-xs font-medium whitespace-nowrap ml-3 ${g?"text-emerald-400":"text-rose-400"}`,children:f(d.amount,n)})]},u)})})]})]})})})]})})}const Se=({searchTerm:t,setSearchTerm:r,filter:a,setFilter:n})=>e.jsxs("div",{className:"space-y-4",children:[e.jsx(N,{className:"p-4 bg-white/5 border-white/5 rounded-[24px]",children:e.jsxs("div",{className:"relative group",children:[e.jsx(we,{htmlFor:"transaction-search",className:"sr-only",children:"Search transactions"}),e.jsx(Z,{className:"absolute left-4 top-1/2 -translate-y-1/2 w-4 h-4 text-slate-500 group-focus-within:text-indigo-400 transition-colors"}),e.jsx(fe,{id:"transaction-search",name:"search",placeholder:"Search transactions, tags...",value:t,onChange:i=>r(i.target.value),className:"pl-12 bg-white/5 border-white/5 focus:border-indigo-500/50 rounded-2xl h-12 text-white placeholder:text-slate-600 transition-all font-bold",autoComplete:"off"})]})}),e.jsxs("div",{className:"flex flex-wrap gap-2.5 pb-4 -mx-1 px-1 scrollbar-hide sm:overflow-visible sm:pb-0 sm:mx-0 sm:px-0",children:[e.jsxs(w,{variant:"ghost",onClick:()=>n("all"),className:b("gap-2 px-5 h-11 rounded-xl transition-all font-bold uppercase text-[10px] tracking-widest border border-white/5",a==="all"?"bg-slate-100 text-slate-900 border-none shadow-[0_0_20px_rgba(255,255,255,0.2)]":"bg-white/5 text-slate-400 hover:text-white hover:bg-white/10"),children:[e.jsx(H,{className:"w-3.5 h-3.5"}),"All"]}),e.jsxs(w,{variant:"ghost",onClick:()=>n("expenses"),className:b("gap-2 px-5 h-11 rounded-xl transition-all font-bold uppercase text-[10px] tracking-widest border border-white/5",a==="expenses"?"bg-rose-500 text-white border-none shadow-[0_0_20px_rgba(244,63,94,0.3)]":"bg-white/5 text-slate-400 hover:text-rose-400 hover:bg-rose-500/10"),children:[e.jsx(ee,{className:"w-3.5 h-3.5"}),"Expenses"]}),e.jsxs(w,{variant:"ghost",onClick:()=>n("income"),className:b("gap-2 px-5 h-11 rounded-xl transition-all font-bold uppercase text-[10px] tracking-widest border border-white/5",a==="income"?"bg-emerald-500 text-white border-none shadow-[0_0_20px_rgba(16,185,129,0.3)]":"bg-white/5 text-slate-400 hover:text-emerald-400 hover:bg-emerald-500/10"),children:[e.jsx(A,{className:"w-3.5 h-3.5"}),"Income"]}),e.jsxs(w,{variant:"ghost",onClick:()=>n("debts"),className:b("gap-2 px-5 h-11 rounded-xl transition-all font-bold uppercase text-[10px] tracking-widest border border-white/5",a==="debts"?"bg-amber-500 text-white border-none shadow-[0_0_20px_rgba(245,158,11,0.3)]":"bg-white/5 text-slate-400 hover:text-amber-400 hover:bg-amber-500/10"),children:[e.jsx(C,{className:"w-3.5 h-3.5"}),"IOUs"]}),e.jsxs(w,{variant:"ghost",onClick:()=>n("subs"),className:b("gap-2 px-5 h-11 rounded-xl transition-all font-bold uppercase text-[10px] tracking-widest border border-white/5",a==="subs"?"bg-purple-500 text-white border-none shadow-[0_0_20px_rgba(168,85,247,0.3)]":"bg-white/5 text-slate-400 hover:text-purple-400 hover:bg-purple-500/10"),children:[e.jsx(Y,{className:"w-3.5 h-3.5"}),"Subs"]}),e.jsxs(w,{variant:"ghost",onClick:()=>n("emis"),className:b("gap-2 px-5 h-11 rounded-xl transition-all font-bold uppercase text-[10px] tracking-widest border border-white/5",a==="emis"?"bg-sky-500 text-white border-none shadow-[0_0_20px_rgba(14,165,233,0.3)]":"bg-white/5 text-slate-400 hover:text-sky-400 hover:bg-sky-500/10"),children:[e.jsx(D,{className:"w-3.5 h-3.5"}),"EMIs"]}),e.jsxs(w,{variant:"ghost",onClick:()=>n("emergency"),className:b("gap-2 px-5 h-11 rounded-xl transition-all font-bold uppercase text-[10px] tracking-widest border border-white/5",a==="emergency"?"bg-blue-600 text-white border-none shadow-[0_0_20px_rgba(37,99,235,0.3)]":"bg-white/5 text-slate-400 hover:text-blue-400 hover:bg-blue-600/10"),children:[e.jsx(se,{className:"w-3.5 h-3.5"}),"Emergency"]}),e.jsxs(w,{variant:"ghost",onClick:()=>n("goals"),className:b("gap-2 px-5 h-11 rounded-xl transition-all font-bold uppercase text-[10px] tracking-widest border border-white/5",a==="goals"?"bg-[#BF5AF2] text-white border-none shadow-[0_0_20px_rgba(191,90,242,0.3)]":"bg-white/5 text-slate-400 hover:text-[#BF5AF2] hover:bg-[#BF5AF2]/10"),children:[e.jsx(te,{className:"w-3.5 h-3.5"}),"Goals"]})]}),a==="emis"&&e.jsx(N,{className:"p-4 bg-orange-50 dark:bg-orange-900/20 border-orange-200 dark:border-orange-800",children:e.jsxs("div",{className:"flex gap-3",children:[e.jsx(D,{className:"w-5 h-5 text-orange-600 flex-shrink-0 mt-0.5"}),e.jsxs("div",{children:[e.jsx("h4",{className:"text-orange-900 dark:text-orange-100",children:"EMI Payments"}),e.jsxs("p",{className:"text-sm text-orange-800 dark:text-orange-200 mt-1",children:["These are loan EMI payment transactions. Manage your loans in the ",e.jsx("strong",{children:"Liability tab"}),"."]})]})]})})]}),_=({children:t,onDelete:r,onEdit:a,className:n="",isPendingDelete:i=!1})=>{const l=ke(),o=100,m=j.useRef(!1);j.useEffect(()=>{i||(l.set({x:0,opacity:1}),m.current=!1)},[i,l]);const p=async(h,d)=>{const u=d.offset.x,g={type:"spring",stiffness:600,damping:40,mass:.8};u<-o?(m.current=!0,z.warning(),await l.start({x:-window.innerWidth,opacity:0,transition:{duration:.3,ease:"easeOut"}}),r()):u>o&&a?(m.current=!0,z.light(),await l.start({x:0,transition:g}),a(),m.current=!1):await l.start({x:0,transition:g})};return e.jsxs(I.div,{initial:!1,animate:{height:i?0:"auto",opacity:i?0:1,marginBottom:i?0:12,visibility:i?"hidden":"visible"},transition:{duration:.3,ease:[.19,1,.22,1]},className:b("relative overflow-hidden squircle-22",n),children:[!i&&e.jsxs("div",{className:"absolute inset-0 flex",children:[e.jsx("div",{className:b("flex-1 bg-[#FFB000] flex items-center justify-start pl-8",!a&&"opacity-0"),children:e.jsx(ae,{className:"text-white w-6 h-6"})}),e.jsx("div",{className:"flex-1 bg-[#FF4B4B] flex items-center justify-end pr-8",children:e.jsx(re,{className:"text-white w-6 h-6"})})]}),e.jsx(I.div,{drag:"x",dragConstraints:{left:-window.innerWidth,right:a?window.innerWidth:0},dragElastic:.15,onDragEnd:p,animate:l,initial:{x:0},className:"relative z-10 bg-[#1C1C1E]",transition:{type:"spring",stiffness:600,damping:40,mass:.8},children:t})]})},Ae=t=>({"Food & Dining":e.jsx(he,{className:"w-5 h-5"}),Transport:e.jsx(xe,{className:"w-5 h-5"}),Shopping:e.jsx(de,{className:"w-5 h-5"}),Entertainment:e.jsx(O,{className:"w-5 h-5"}),"Bills & Utilities":e.jsx(ce,{className:"w-5 h-5"}),Healthcare:e.jsx(le,{className:"w-5 h-5"}),Education:e.jsx(oe,{className:"w-5 h-5"}),Travel:e.jsx(ie,{className:"w-5 h-5"}),Groceries:e.jsx(ne,{className:"w-5 h-5"}),"Personal Care":e.jsx(O,{className:"w-5 h-5"}),EMI:e.jsx(D,{className:"w-5 h-5"}),Subscription:e.jsx(Y,{className:"w-5 h-5"}),"Personal IOU":e.jsx(C,{className:"w-5 h-5"}),"Debt Payment":e.jsx(C,{className:"w-5 h-5"}),Other:e.jsx(R,{className:"w-5 h-5"})})[t]||e.jsx(R,{className:"w-5 h-5"}),De=t=>{const r=(t||"").toLowerCase();return r.includes("salary")?e.jsx($,{className:"w-5 h-5"}):r.includes("freelance")?e.jsx(A,{className:"w-5 h-5"}):r.includes("investment")?e.jsx(A,{className:"w-5 h-5"}):e.jsx($,{className:"w-5 h-5"})},M=t=>new Date(t).toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"}),Ie=({expense:t,currency:r,onEdit:a,onDelete:n,isPendingDelete:i})=>{const l=t.tags&&Array.isArray(t.tags)&&t.tags.some(m=>m?.toLowerCase().includes("goal"))||t.description&&t.description.toLowerCase().includes("goal")||t.description&&t.description.toLowerCase().includes("saving"),o=t.category==="Healthcare"||t.description&&t.description.toLowerCase().includes("insurance")||t.description&&t.description.toLowerCase().includes("medical")||t.description&&t.description.toLowerCase().includes("emergency");return e.jsx(_,{onDelete:()=>n(t.id),onEdit:()=>a(t),isPendingDelete:i,children:e.jsxs(N,{className:`p-4 hover:shadow-2xl transition-all border-none rounded-none bg-transparent group relative ${l?"border-l-2 border-l-purple-500":""} ${o?"border-l-2 border-l-blue-500":""}`,children:[e.jsx("div",{className:"absolute inset-0 bg-white/[0.02] group-hover:bg-cyan-500/[0.04] transition-colors pointer-events-none"}),e.jsxs("div",{className:"flex items-center gap-4 relative z-10",children:[e.jsx("div",{className:"w-10 h-10 rounded-lg bg-white/5 border border-white/10 flex items-center justify-center text-slate-400 flex-shrink-0 group-hover:border-cyan-500/30 group-hover:text-cyan-400 transition-all",children:Ae(t.category)}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-0.5 flex-wrap",children:[e.jsx("h4",{className:"truncate font-bold text-slate-200 text-xs sm:text-sm uppercase tracking-tight",children:t.description}),t.isRecurring&&e.jsx(G,{className:"w-3 h-3 text-cyan-400 flex-shrink-0 animate-spin-slow"})]}),e.jsxs("p",{className:"text-[10px] text-slate-500 font-mono uppercase tracking-tighter",children:[M(t.date)," // ",t.category]})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsxs("p",{className:"text-xs sm:text-sm font-black text-rose-500 tabular-nums font-mono",children:["-",f(t.amount,r)]}),e.jsx(T,{className:"w-4 h-4 text-slate-700 flex-shrink-0 group-hover:text-cyan-500 transition-colors"})]})]})]})})},Ee=({income:t,currency:r,onEdit:a,onDelete:n,isPendingDelete:i})=>{const l=t.tags&&Array.isArray(t.tags)&&t.tags.some(o=>o?.toLowerCase().includes("goal"))||t.source&&t.source.toLowerCase().includes("goal")||t.source&&t.source.toLowerCase().includes("saving");return e.jsx(_,{onDelete:()=>n(t.id),onEdit:()=>a(t),isPendingDelete:i,children:e.jsxs(N,{className:`p-4 hover:shadow-2xl transition-all border-none rounded-none bg-transparent group relative ${l?"border-l-2 border-l-purple-500":""}`,children:[e.jsx("div",{className:"absolute inset-0 bg-white/[0.02] group-hover:bg-emerald-500/[0.04] transition-colors pointer-events-none"}),e.jsxs("div",{className:"flex items-center gap-4 relative z-10",children:[e.jsx("div",{className:"w-10 h-10 rounded-lg bg-white/5 border border-white/10 flex items-center justify-center text-slate-400 flex-shrink-0 group-hover:border-emerald-500/30 group-hover:text-emerald-400 transition-all",children:De(t.source)}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-0.5 flex-wrap",children:[e.jsx("h4",{className:"truncate font-bold text-slate-200 text-xs sm:text-sm uppercase tracking-tight",children:t.source}),t.isRecurring&&e.jsx(G,{className:"w-3 h-3 text-emerald-400 flex-shrink-0 animate-spin-slow"})]}),e.jsxs("p",{className:"text-[10px] text-slate-500 font-mono uppercase tracking-tighter",children:[M(t.date)," // CAPITAL INJECTION"]})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsxs("p",{className:"text-xs sm:text-sm font-black text-emerald-400 tabular-nums font-mono",children:["+",f(t.amount,r)]}),e.jsx(T,{className:"w-4 h-4 text-slate-700 flex-shrink-0 group-hover:text-emerald-500 transition-colors"})]})]})]})})},Te=({debt:t,currency:r,onEdit:a,onDelete:n,onSettle:i,isPendingDelete:l})=>e.jsx(_,{onDelete:()=>n(t.id),onEdit:()=>a(t),isPendingDelete:l,children:e.jsxs(N,{className:"p-4 hover:shadow-2xl transition-all border-none rounded-none bg-transparent group relative",children:[e.jsx("div",{className:"absolute inset-0 bg-white/[0.02] group-hover:bg-amber-500/[0.04] transition-all pointer-events-none"}),e.jsxs("div",{className:"flex items-center gap-4 relative z-10",children:[e.jsx("div",{className:`w-10 h-10 rounded-lg flex items-center justify-center flex-shrink-0 transition-all ${t.type==="lent"?"bg-white/5 border border-white/10 text-slate-400 group-hover:border-cyan-500/30 group-hover:text-cyan-400":"bg-white/5 border border-white/10 text-slate-400 group-hover:border-amber-500/30 group-hover:text-amber-400"}`,children:e.jsx(C,{className:"w-5 h-5 transition-transform group-hover:scale-110"})}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-0.5",children:[e.jsx("h4",{className:"truncate font-bold text-slate-200 text-xs sm:text-sm uppercase tracking-tight",children:t.personName}),t.status==="settled"&&e.jsx("div",{className:"p-0.5 rounded-full bg-emerald-500/20 text-emerald-400",children:e.jsx(U,{className:"w-2.5 h-2.5"})})]}),e.jsxs("p",{className:"text-[10px] text-slate-500 font-mono uppercase tracking-tighter",children:[M(t.date)," // ",t.type==="lent"?"CAPITAL DISPLACED":"CAPITAL SOURCED"]})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("p",{className:`text-xs sm:text-sm font-black tabular-nums font-mono ${t.type==="lent"?"text-cyan-400":"text-amber-500"}`,children:f(t.amount,r)}),e.jsxs("div",{className:"flex items-center gap-1",children:[t.status==="pending"&&e.jsx(w,{variant:"ghost",size:"sm",onClick:()=>i(t.id),className:"w-11 h-11 p-0 text-emerald-400 hover:bg-emerald-400/10 border border-emerald-400/20 rounded-xl",title:"Mark as Settled",children:e.jsx(U,{className:"w-5 h-5"})}),e.jsx(T,{className:"w-4 h-4 text-slate-700 flex-shrink-0 group-hover:text-slate-400 transition-colors"})]})]})]})]})});function _e(t){const[r,a]=j.useState(new Set),n=j.useRef({});return{handleDelete:(o,m="Transaction")=>{a(p=>{const h=new Set(p);return h.add(o),h}),je.success(`${m} deleted`,{description:"You have 3 seconds to undo this action.",duration:3e3,action:{label:"Undo",onClick:()=>{n.current[o]&&(clearTimeout(n.current[o]),delete n.current[o]),a(p=>{const h=new Set(p);return h.delete(o),h})}},onAutoClose:()=>{t(o),a(p=>{const h=new Set(p);return h.delete(o),h}),delete n.current[o]}})},isPending:o=>r.has(o)}}const Oe=({expenses:t,incomes:r,debts:a,accounts:n,currency:i,onEditExpense:l,onDeleteExpense:o,onEditIncome:m,onDeleteIncome:p,onEditDebt:h,onDeleteDebt:d,onSettleDebt:u})=>{const[g,y]=j.useState(""),[x,V]=j.useState("all"),k=[...t.map(s=>({...s,kind:"expense"})),...r.map(s=>({...s,kind:"income"})),...a.map(s=>({...s,kind:"debt"}))].sort((s,c)=>new Date(c.date).getTime()-new Date(s.date).getTime()),{handleDelete:L,isPending:S}=_e(s=>{const c=k.find(v=>v.id===s);c&&(c.kind==="expense"?o(s):c.kind==="income"?p(s):c.kind==="debt"&&d(s))}),B=new Date().getMonth(),F=new Date().getFullYear(),W={expenses:t.filter(s=>{const c=new Date(s.date);return c.getMonth()===B&&c.getFullYear()===F}),incomes:r.filter(s=>{const c=new Date(s.date);return c.getMonth()===B&&c.getFullYear()===F})},J=k.slice(0,5),K=n.filter(s=>s.type==="bank"||s.type==="cash").reduce((s,c)=>s+c.balance,0),P=k.filter(s=>"description"in s&&s.description?.toLowerCase().includes(g.toLowerCase())||"source"in s&&s.source?.toLowerCase().includes(g.toLowerCase())||"personName"in s&&s.personName?.toLowerCase().includes(g.toLowerCase())||s.tags&&Array.isArray(s.tags)&&s.tags.some(v=>v?.toLowerCase().includes(g.toLowerCase()))?x==="all"?!0:x==="expenses"?s.kind==="expense":x==="income"?s.kind==="income":x==="debts"?s.kind==="debt":x==="subs"?s.kind==="expense"?"category"in s&&s.category==="Subscription"||s.tags&&s.tags.includes("subscription")||"description"in s&&s.description&&(s.description.toLowerCase().includes("subscription")||s.description.toLowerCase().includes("netflix")||s.description.toLowerCase().includes("spotify")||s.description.toLowerCase().includes("prime")):!1:x==="emis"?s.kind==="expense"?"category"in s&&s.category==="EMI"||s.tags&&(s.tags.includes("emi")||s.tags.includes("loan"))||"description"in s&&s.description&&(s.description.toLowerCase().includes("emi")||s.description.toLowerCase().includes("loan payment")||s.description.toLowerCase().includes("loan")):!1:x==="emergency"?s.kind==="expense"?"category"in s&&s.category==="Healthcare"||"description"in s&&s.description&&(s.description.toLowerCase().includes("insurance")||s.description.toLowerCase().includes("medical")||s.description.toLowerCase().includes("health")||s.description.toLowerCase().includes("emergency")):!1:x==="goals"?s.tags&&Array.isArray(s.tags)&&s.tags.some(v=>v?.toLowerCase().includes("goal"))||"description"in s&&s.description&&(s.description.toLowerCase().includes("goal")||s.description.toLowerCase().includes("saving")):!0:!1);return e.jsxs("div",{className:"space-y-6",children:[e.jsx(Le,{currentMonthTransactions:W,recentTransactions:J,totalLiquidity:K,currency:i}),e.jsxs("div",{children:[e.jsx("h2",{className:"text-xl font-bold text-slate-100 mb-1",children:"All Transactions"}),e.jsx("p",{className:"text-xs sm:text-sm text-slate-400",children:"Track and manage all your financial transactions"})]}),e.jsx(Se,{searchTerm:g,setSearchTerm:y,filter:x,setFilter:V}),e.jsx("div",{className:"pb-32",children:e.jsx("div",{className:"frosted-plate rounded-3xl border border-white/5 overflow-hidden",children:P.length===0?e.jsxs("div",{className:"p-12 text-center bg-white/[0.02]",children:[e.jsx("p",{className:"text-slate-500 font-mono text-sm uppercase tracking-widest",children:"No Stream Data Found"}),e.jsx("p",{className:"text-[10px] text-slate-600 mt-2 uppercase",children:x==="emis"?"Initialize EMI parameters in Liability Node":"Adjust filter parameters or search query"})]}):e.jsx("div",{className:"divide-y divide-white/5",children:P.map(s=>{const c="description"in s?s.description:"source"in s?s.source:"personName"in s?s.personName:"Transaction";return s.kind==="expense"?e.jsx(Ie,{expense:s,currency:i,onEdit:l,onDelete:()=>L(s.id,c),isPendingDelete:S(s.id)},s.id):s.kind==="income"?e.jsx(Ee,{income:s,currency:i,onEdit:m,onDelete:()=>L(s.id,c),isPendingDelete:S(s.id)},s.id):e.jsx(Te,{debt:s,currency:i,onEdit:h,onDelete:()=>L(s.id,c),onSettle:u,isPendingDelete:S(s.id)},s.id)})})})})]})};export{Oe as TransactionList};
